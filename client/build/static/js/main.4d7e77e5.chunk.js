(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e){e.exports=[{SETOR:"Secretaria de Meio Ambiente",nome:"Cl\xe1udia de Castro Rosa",cargo:"Secret\xe1ria de Meio Ambiente",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Rua Vitalino Augusto, 635 - Centro",cep:" 35.706-000 ",municipio:"Baldim",EMAIL:"m.ambiente@baldim.mg.gov.br","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Pol\xedtica Urbana",nome:"Maria Fernandes Caldas",cargo:"Secret\xe1ria Municipal de Pol\xedtica Urbana",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Av. Afonso Pena, 4000, 4\xb0 andar - Cruzeiro",cep:" 30.130-009 ",municipio:"Belo Horizonte",EMAIL:"smaru@pbh.gov.br ","TELEFONE 1":"32775050","CONTATO 1":"Tamires","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Finan\xe7as, Planejamento, Gest\xe3o e Obras P\xfablicas (SEFPLAG)",nome:"Marco T\xfalio de Freitas Rezende Lara",cargo:"Diretor de Pol\xedticas Urbanas (DPURB)",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Diretor",endereco:"Rua Par\xe1 de Minas, 640 - Brasil\xe9ia",cep:" 32.600-412 ",municipio:"Betim",EMAIL:"-","TELEFONE 1":"35123227","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Planejamento e Coordena\xe7\xe3o",nome:"V\xe2nia Alves Est\xe9v\xe3o",cargo:"Secret\xe1ria de Planejamento e Coordena\xe7\xe3o",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Rua Presidente Kennedy, 20, 3\xba andar - Bairro S\xe3o Sebasti\xe3o",cep:" 35.460-000 ",municipio:"Brumadinho",EMAIL:"fundiario.smp@brumadinho.mg.gov.br","TELEFONE 1":"35711385","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Muncipal de Obras",nome:"J\xfalio C\xe9sar Batista",cargo:"Secret\xe1rio de Obras",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Raul Franco, S/N\xba - Centro",cep:" 34.800-000 ",municipio:"Caet\xe9",EMAIL:"obras@caete.mg.gov.br","TELEFONE 1":"36513234","CONTATO 1":"Josimara","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Prefeitura Municipal",nome:"Elmo Alves do Nascimento",cargo:"Prefeito Municipal",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Pra\xe7a Jorge Ferreira Pinto, 20 - Centro",cep:" 35.730-000 ",municipio:"Capim Branco",EMAIL:"segovadm@capimbranco.mg.gov.br","TELEFONE 1":"37131420","CONTATO 1":"J\xe9ssica","TELEFONE 2":"98711725","CONTATO 2":"Jean"},{SETOR:"Secret\xe1ria Municipal de Desenvolvimento Econ\xf4mico e Urbano",nome:"Rodrigo Costa Andrade",cargo:"Secret\xe1rio de Desenvolvimento Econ\xf4mico e Urbano",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Gustavo Rodrigues, 265 - Centro",cep:" 33.500-000 ",municipio:"Confins",EMAIL:"-","TELEFONE 1":"36860304","CONTATO 1":"Rodrigo","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Desenvolvimento Urbano e Habita\xe7\xe3o",nome:"Ivayr Nunes Soalheiro",cargo:"Secret\xe1rio de de Desenvolvimento Urbano e Habita\xe7\xe3o",vocativo1:"Ilmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Av. Jo\xe3o C\xe9sar de Oliveira, 1410 - Eldorado",cep:" 32.310-000",municipio:"Contagem",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria de Obras",nome:"Samantha Santana",cargo:"-",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Av. Jo\xe3o C\xe9sar de Oliveira, 1410 - Eldorado",cep:" 32.310-000",municipio:"Contagem",EMAIL:"samantha.santanna@contagem.mg.gov.br","TELEFONE 1":"33912168","CONTATO 1":"Daniela","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Obras, Transporte e Tr\xe2nsito",nome:"Bernardo Felipe Baudson Fran\xe7a Costa",cargo:"Secret\xe1rio de Obras, Transporte e Tr\xe2nsito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua dos Expedicion\xe1rios, 09 - Centro",cep:" 35.740-000 ",municipio:"Esmeraldas",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Otoni Alves de Oliveira Melo",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Benedito Valadares, 243 - Centro",cep:" 35.690-000 ",municipio:"Florestal",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Obras e Urbanismo",nome:"Andr\xe9 Lima Belico",cargo:"Secret\xe1rio de Obras e Urbanismo",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Arthur Campos, 906 - Alvorada",cep:" 32.400-000 ",municipio:"Ibirit\xe9",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Infraestrutura e Servi\xe7os Urbanos",nome:"Witor Aparecido Ribeiro Campos",cargo:"Secret\xe1rio de Infraestrutura e Servi\xe7os Urbanos",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Avenida Governador Valadares, 325 - Centro",cep:" 32.900-000",municipio:"Igarap\xe9",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Prefeitura Municipal",nome:"Ana Cec\xedlia Sorrenti Bahia",cargo:"Arquiteta e Urbanista",vocativo1:"Exma. Senhora",vocativo2:"Senhora Arquiteta",endereco:"Rua Padre Greg\xf3rio, 187 - Centro",cep:" 35.514-000 ",municipio:"Itaguara",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria de Infraestrutura e Urbanismo",nome:"Mariana Midori Miyamoto Martins",cargo:"Secret\xe1ria de Infraestrutura e Urbanismo",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Pra\xe7a Ant\xf4nio Quirino da Silva, 404 - Centro",cep:" 35.685-000 ",municipio:"Itatiaiu\xe7u",EMAIL:"siema@itatiaiucu.mg.gov.br/obrasec@itatiaiucu.mg.gov.br","TELEFONE 1":"35721244","CONTATO 1":"Sandra","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Seguran\xe7a Social e Meio Ambiente",nome:"Alberto Gomes Filho",cargo:"Secret\xe1rio Municipal de Seguridade Social e Meio Ambiente ",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Pra\xe7a Nossa Senhora da Concei\xe7\xe3o, 38 - Centro",cep:" 35.830-000 ",municipio:"Jaboticatubas",EMAIL:"meioambiente@jaboticatubas.mg.gov.br ","TELEFONE 1":"36831233","CONTATO 1":"Marcelly","TELEFONE 2":"36831218","CONTATO 2":"Alberto"},{SETOR:"Prefeitura Municipal",nome:"Val\xe9ria Aparecida dos Santos",cargo:"Prefeita Municipal",vocativo1:"Exma. Senhora",vocativo2:"Senhora Prefeita",endereco:"Pra\xe7a dos Tr\xeas Poderes, s/n\xba - Centro",cep:" 35.675-000 ",municipio:"Juatuba",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Desenvolvimento Urbano",nome:"Breno Salom\xe3o Gomes",cargo:"Secret\xe1rio Municipal de Desenvolvimento Urbano ",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Bar\xe3o do Rio Branco, 44, 2\xba andar - Centro",cep:" 33.400-000 ",municipio:"Lagoa Santa",EMAIL:"ericapatricia@lagoasanta.mg.gov.br","TELEFONE 1":"3517","CONTATO 1":"Erica Patricia","TELEFONE 2":"-","CONTATO 2":"Erica Abreu ou Larissa"},{SETOR:"Prefeitura Municipal",nome:"Elson da Silva Santos J\xfanior",cargo:"Prefeito Municipal",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Av. Governador Magalh\xe3es Pinto, 320 - Centro",cep:" 32.470-000 ",municipio:"Mario Campos",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria de Meio Ambiente",nome:"Rosil\xe2ndia Maia",cargo:"Secret\xe1ria de Meio Ambiente",vocativo1:"Exma. Senhora",vocativo2:"Senhora Secret\xe1ria",endereco:"Rua Pereira Guimar\xe3es, 08 - Centro",cep:" 35.670-000 ",municipio:"Mateus Leme",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Ant\xf4nio Divino de Souza",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Dolores de Oliveira Silva, 108 - Centro",cep:" 35.720-000 ",municipio:"Matozinhos",EMAIL:"andregon2005@gmail.com","TELEFONE 1":"37125538","CONTATO 1":"Cl\xe1udia","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Departamento de Cartografia",nome:"H\xe9lio de Souza Muniz",cargo:"Diretor do Departamento de Cartografia",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Diretor",endereco:"Pra\xe7a Bernardino de Lima, 80 - Centro",cep:" 34.000-000 ",municipio:"Nova Lima",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Ailton Ant\xf4nio Guimar\xe3es Rosa",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Pres. Kennedy, 29 - Centro",cep:" 34.990-000",municipio:"Nova Uni\xe3o",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Municipal de Planejamento Urbano",nome:"Jo\xe3o Luiz Pereira Issa",cargo:"Secret\xe1rio de Planejamento Urbano",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Dr. Cristiano Otoni, 555 - Centro",cep:" 33.600-000 ",municipio:"Pedro Leopoldo",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Sergio Silveira Soares",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Pra\xe7a da Matriz, 64 - Centro",cep:" 34.400-000",municipio:"Raposos",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria Muncipal de Planejamento e Urbanismo",nome:"Cristiano Novais Barduino",cargo:"Superintendente de Ordena\xe7\xe3o Territorial",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Superintendente",endereco:"Rua Ari Teixeira da Costa, 1.100 - Savassi",cep:" 33.880-630 ",municipio:"Ribeir\xe3o das Neves",EMAIL:"regulacaourbana@ribeiraodasneves.mg.gov.br","TELEFONE 1":"(31) 36276927","CONTATO 1":"Cristiano","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria de Obras e Transportes",nome:"Walmir do Carmo Santos J\xfanior",cargo:"Diretor de Obras",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Diretor",endereco:"Rua Ant\xf4nio Carlos, 40 - Centro",cep:" 34.300-000 ",municipio:"Rio Acima",EMAIL:"obras.supervisao@prefeiturarioacima.mg.gov.br","TELEFONE 1":"(31) 34541286","CONTATO 1":"solicitar ramal de obras","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Adair Dornas dos Santos",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Pra\xe7a Fortunato Campos, 46 - Centro",cep:" 35.525-000 ",municipio:"Rio Manso",EMAIL:"dpriomanso@gmail.com","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Wander Jos\xe9 Goddad Borges",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Dom Pedro II, 200 - Centro",cep:" 34.600-000 ",municipio:"Sabar\xe1",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Christiano Xavier ",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Avenida VIII, 50 - Carreira Cumprida",cep:" 33.045-090 ",municipio:"Santa Luzia",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Ant\xf4nio Augusto Resende Maia",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Avenida Jos\xe9 Gabriel de Resende, 340 - Tereza Cristina",cep:" 32.920-000 ",municipio:"S\xe3o Joaquim de Bicas",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Diego Alvaro dos Santos Silva",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Idalina Alves,179 - Centro",cep:" 33.350-000 ",municipio:"S\xe3o Jos\xe9 da Lapa",EMAIL:"planejamento@saojosedalapa.mg.gov.br","TELEFONE 1":"36231200","CONTATO 1":"Sergio","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Secretaria de Planejamento",nome:"Jarbas Vieira da Silva",cargo:"Secret\xe1rio de Planejamento",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Secret\xe1rio",endereco:"Rua Eloy C\xe2ndido de Melo, 477 - Centro",cep:" 32.450-000 ",municipio:"Sarzedo",EMAIL:"planejamento@sarzedo.mg.gov.br","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Alcides Hipolito da Assun\xe7\xe3o Ferreira Filho",cargo:"Prefeito",vocativo1:"Exmo. Senhor",vocativo2:"Senhor Prefeito",endereco:"Rua Dr. Tancredo de Almeida Neves, 225 - Centro ",cep:" 33.980-000",municipio:"Taquara\xe7u de Minas",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"},{SETOR:"Gabinete",nome:"Ilce Alves Rocha Perdig\xe3o",cargo:"Prefeita",vocativo1:"Exma. Senhora",vocativo2:"Senhora Prefeita",endereco:"Av. Prefeito Sebasti\xe3o Fernandes, 479 - Centro",cep:" 33.200-000 ",municipio:"Vespasiano",EMAIL:"-","TELEFONE 1":"-","CONTATO 1":"-","TELEFONE 2":"-","CONTATO 2":"-"}]},102:function(e,t,a){e.exports=a(289)},286:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(27),r=a.n(o),l=a(291),s=a(8),c=a(14),d=a(94),m=a.n(d),u=a(95),p=a.n(u),h=a(96),E=a(2),v={empCollection:[],rtCollection:[],processCollection:[],filesCollection:[],id:"",nome:"",cpf:"",rua:"",bairro:"",cep:"",cidade:"",phone:"",email:"",numero:"",complemento:"",uf:"",nomeRt:"",emailRt:"",phoneRt:"",nProcesso:"",loadedData:{},empMatch:"",rtMatch:"",empId:"",editItem:!1,search:"",setColor:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_EMP_DATA":return Object(E.a)({},e,{empCollection:t.payload});case"LOAD_RT_DATA":return Object(E.a)({},e,{rtCollection:t.payload});case"LOAD_PROCESS_DATA":return Object(E.a)({},e,{processCollection:t.payload});case"LOAD_FILES_DATA":return Object(E.a)({},e,{filesCollection:t.payload});case"SET_COLOR":return Object(E.a)({},e,{setColor:t.payload});default:return e}},b={},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIND_EMP_ID":return Object(E.a)({},e,{empId:t.payload,editItem:!0});case"DISABLE_EDIT":return Object(E.a)({},e,{editItem:!1});case"CHANGE_SEARCH_VALUE":return Object(E.a)({},e,{search:t.payload});case"EDIT_VALUE":return Object(E.a)({},e,{loadedData:t.payload});default:return e}},C=Object(s.c)({cadastro:f,busca:g}),y=a(293),N=a(292),O=a(9),S=a(10),D=a(12),x=a(11),w=a(13),k=a(4),T=a.n(k),I=function(){return{type:"LOAD_EMP_DATA",payload:T.a.get("/api/showEmpreend").then(function(e){return e.data}).catch(function(e){return console.log(e)})}};function A(){return{type:"LOAD_RT_DATA",payload:T.a.get("/api/showRt").then(function(e){return e.data}).catch(function(e){return console.log(e)})}}function R(){return{type:"LOAD_PROCESS_DATA",payload:T.a.get("/api/showProcess").then(function(e){return e.data}).catch(function(e){return console.log(e)})}}function j(){return{type:"LOAD_FILES_DATA",payload:T.a.get("/api/files").then(function(e){return e.data}).catch(function(e){return console.log(e)})}}var F=function(){var e=["rgb(104, 119, 133)","rgb(84, 104, 102)","rgb(105, 117, 153)","rgb(88, 103, 88)","rgb(117, 116, 101)","rgb(117, 117, 137)"];return{type:"SET_COLOR",payload:e[Math.floor(Math.random()*e.length)]}},P=a(290),L=function(e){var t=e.color;return i.a.createElement("div",null,i.a.createElement("div",{className:"card-panel",style:{backgroundImage:"url(".concat("/images/home_bg.jpg",")")}},i.a.createElement("div",{className:"container"},i.a.createElement("h1",{className:"display-3"}," ",i.a.createElement("strong",null,i.a.createElement("span",{style:{color:"white"}},"Bem-vindo ao SIM")," ")," "),i.a.createElement("h4",{style:{color:"white"}},"M\xf3dulo Anu\xeancia Pr\xe9via (vers\xe3o beta)"),i.a.createElement("p",{className:"btn btn-primary btn-lg",href:"",role:"button",style:{backgroundColor:t}},"Saiba mais \xbb"))),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{align:"center",className:"col s12 m3"},i.a.createElement("img",{src:"/images/cadastro.png",style:{margin:"10px"},alt:"",width:"105",height:"120"}),i.a.createElement("h5",null,i.a.createElement("b",null,"Cadastrar Processo")),i.a.createElement("p",{style:{textAlign:"justify"}},"Cadastre um novo processo, o interessado e o Respons\xe1vel t\xe9cnico. Caso o interessado e RT estejam cadastrados, basta informar o nome e o formul\xe1rio ser\xe1 preenchido automaticamente."),i.a.createElement("p",{className:"btn",href:"",role:"button",style:{backgroundColor:t}},i.a.createElement(P.a,{to:"/cadastro",style:{color:"white"}},"Cadastrar Processo"),"\xbb")),i.a.createElement("div",{className:"col s12 m3",align:"center"},i.a.createElement("img",{className:"center-align",src:"/images/solDir.jpg",style:{margin:"10px"},width:"105",height:"120",alt:""}),i.a.createElement("h5",null,i.a.createElement("b",null,"Solicitar Diretrizes")),i.a.createElement("p",{style:{textAlign:"justify"}},"Para solicitar diretrizes metropolitanas, selecione o processo e fa\xe7a o upload dos documentos necess\xe1rios em pdf. \xc9 necess\xe1rio que o processo esteja cadastrado previamente."),i.a.createElement("p",{className:"btn",href:"",role:"button",style:{backgroundColor:t}},i.a.createElement(P.a,{to:"/solicitaDiretriz",style:{color:"white"}},"Solicitar Diretrizes"),"\xbb")),i.a.createElement("div",{className:"col s12 m3",align:"center"},i.a.createElement("img",{src:"/images/solAnuencia.png",style:{margin:"0px"},alt:"",width:"140",height:"140"}),i.a.createElement("h5",null,i.a.createElement("b",null,"Solicitar Anu\xeancia")),i.a.createElement("p",{style:{textAlign:"justify"}},"Para solicitar anu\xeancia pr\xe9via, selecione o processo e fa\xe7a o upload dos documentos necess\xe1rios em meio digital. \xc9 necess\xe1rio que o processo possua diretrizes metropolitanas validas."),i.a.createElement("p",{className:"btn",href:"",role:"button",style:{backgroundColor:t}},i.a.createElement(P.a,{to:"/solicitaAnuencia",style:{color:"white"}},"Solicitar Anu\xeancia \xbb"))),i.a.createElement("div",{className:"col s12 m3",align:"center"},i.a.createElement("img",{src:"/images/gerenciarProc.png",style:{margin:"10px"},alt:"",width:"120",height:"120"}),i.a.createElement("h5",null,i.a.createElement("b",null,"Gerenciar Dados")),i.a.createElement("p",{style:{textAlign:"justify"}},"Busque, edite e gerencie os dados dos processos, interesados e RTs utilizando os filtros dispon\xedveis. Acompanhe os andamentos e veja os arquivos do processo atrav\xe9s desta op\xe7\xe3o."),i.a.createElement("p",{className:"btn",href:"",role:"button",style:{backgroundColor:t}},i.a.createElement(P.a,{to:"/showEmpreend",style:{color:"white"}},"Buscar Processo \xbb"))))))},M=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(i)))).state={setColor:""},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loadEmpData(),this.props.loadRtData(),this.props.loadProcessData(),setTimeout(function(){var t=document.getElementById("setcolor").style.backgroundColor;e.setState({setColor:t})},450)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(L,{color:this.state.setColor}))}}]),t}(n.Component);var z=Object(c.b)(function(e){return{data:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R},e)})(M),_=a(7),B=a(3),U=a.n(B),H=a(6),V=a(30),q=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement("button",{className:"btn-flat waves-effect btn-floating right teal",disabled:e.enable,title:"Avan\xe7ar",onClick:e.enableInput},i.a.createElement("i",{className:"material-icons"},"arrow_forward"))))},G=function(e){var t=e.disabled,a=e.icon;return i.a.createElement("div",{className:"input"},i.a.createElement("button",{className:"btn-floating left red darken-3 ".concat(e.size),disabled:t,title:"Voltar",onClick:function(){return e.onClick()}},i.a.createElement("i",{className:"material-icons"},a)))},W=function(e){return i.a.createElement("div",null,i.a.createElement("i",{className:"material-icons",style:{fontSize:"24px",color:"red",cursor:"pointer"},title:"Apagar",onClick:function(){return e.delete(e.id)}},"delete_outline"))},J=function(e){return i.a.createElement("div",null,i.a.createElement("i",{className:"material-icons",style:{fontSize:"24px",color:"teal",cursor:"pointer"},title:"Editar",onClick:function(){return e.edit(e.id)}},"edit"))},Y=function(e){return e.display?i.a.createElement("button",{className:"btn-flat waves-effect btn-floating right teal darken-2",title:"Salvar",form:e.form,type:"submit"},i.a.createElement("i",{className:"material-icons"},"save")):null},X=function(e){return i.a.createElement("div",null,i.a.createElement("i",{className:"material-icons right",title:"Fechar",style:{cursor:"pointer",color:"red"},onClick:e.close},"close"))},K=function(e){var t=e.showInfo,a=e.id;return i.a.createElement("div",null,i.a.createElement("i",{className:"material-icons",id:a,onClick:t,style:{fontSize:"24px",color:"#1D90EE",cursor:"pointer"},title:"Informa\xe7\xf5es"},"info"))},Q=function(e){var t=e.title,a=e.subtitle,n=e.color;return i.a.createElement("div",{className:"row col s12"},i.a.createElement("div",{style:{marginTop:"20px"}},i.a.createElement("h5",null,t)),a?i.a.createElement("div",{className:"card-panel valign-wrapper",style:{marginBottom:"10px",maxHeight:"10px",backgroundColor:n,filter:"brightness(200%)",borderRadius:"10px 10px",fontSize:"1rem",fontWeight:500,fontFamily:"Calibri"}},i.a.createElement("span",{style:{color:"black"}},a)):void 0)},Z={nomeEmpreendimento:{divClassName:"input-field col s12 m6 l4",type:"text",name:"nomeEmpreendimento",label:"Nome do Empreendimento:",onBlur:null},area:{divClassName:"input-field col s12 m4 l2",type:"text",name:"area",label:"\xc1rea total da Gleba (m\xb2):",onBlur:null}},$={phoneRt:{divClassName:"input-field col s12 m6 l2",type:"text",name:"phoneRt",label:"Telefone",onBlur:null},emailRt:{divClassName:"input-field col s12 m6 l4",type:"text",name:"emailRt",label:"E-mail",onBlur:null}},ee={cpf:{divClassName:"input-field col s12 m3 l2",type:"text",name:"cpf",label:"CPF / CNPJ"},phone:{divClassName:"input-field col s12 m3 l2",type:"text",name:"phone",label:"Telefone"},email:{divClassName:"input-field col s12 m6 l3",type:"text",name:"email",label:"E-mail"},CEP:{divClassName:"input-field col s12 m3 l1",type:"text",name:"cep",label:"CEP"},numero:{divClassName:"input-field col s12 m3 l1",type:"text",name:"numero",label:"N\xfamero"},complemento:{divClassName:"input-field col s12 m3 l2",type:"text",name:"complemento",label:"Complemento"},rua:{divClassName:"input-field col s12 m6 l3",type:"text",name:"rua",label:"Rua"},bairro:{divClassName:"input-field col s12 m3 l2",type:"text",name:"bairro",label:"Bairro"},cidade:{divClassName:"input-field col s12 m4 l2",type:"text",name:"cidade",label:"Cidade"},uf:{divClassName:"input-field col s12 m3 l1",type:"text",name:"uf",label:"Estado"}},te={divClassName:"input-field col s12 m4 l2",name:"modalidade",label:"Modalidade:",options:["","Desmembramento","Loteamento"]},ae={munEmpreendimento:{divClassName:"input-field col s12 m4 l2",type:"text",name:"munEmpreendimento",label:"Munic\xedpio:",options:["","Baldim","Belo Horizonte","Betim","Brumadinho","Caet\xe9","Capim Branco","Confins","Contagem","Esmeraldas","Florestal","Ibirit\xe9","Igarap\xe9","Itaguara","Itatiaiu\xe7u","Jaboticatubas","Juatuba","Lagoa Santa","M\xe1rio Campos","Mateus Leme","Matozinhos","Nova Lima","Nova Uni\xe3o","Pedro Leopoldo","Raposos","Ribeir\xe3o das Neves","Rio Acima","Rio Manso","Sabar\xe1","Santa Luzia","S\xe3o Joaquim de Bicas","S\xe3o Jos\xe9 da Lapa","Sarzedo","Taquara\xe7u de Minas","Vespasiano"]}},ne=function(e){var t,a,n=ae.munEmpreendimento.options.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e)}),o=te.options.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e)}),r=function(t,a){var n=[];for(var o in t)n.push({id:o,settings:t[o],enableInput:a});return n.map(function(t,a){var n=t.settings;return i.a.createElement("div",{key:a,className:n.divClassName},i.a.createElement("input",{type:n.type,id:n.name,className:"active",name:n.name,onChange:e.handleChange,value:e.data[t.id],placeholder:" ",disabled:t.enableInput,onBlur:e.handleBlur}),i.a.createElement("label",{className:"active",htmlFor:n.name},n.label))})};return i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement("div",{className:"tab-pane fade show active",id:"empreend"},i.a.createElement(Q,{title:"Cadastro de Processos",subtitle:"Preencha os dados do interessado e RT do processo. Caso o interessado e RT n\xe3o estejam cadastrados, um novo cadastro ser\xe1 gerado automaticamente.",color:e.color}),i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("fieldset",{className:"input-field"},i.a.createElement("legend",{className:"input-field"},i.a.createElement("strong",null," 1- Interessado ")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"input-field col s12 m6 l4"},i.a.createElement("input",{type:"text",list:"empreendList",id:"nome",className:"validate",name:"nome",onChange:e.handleChange,value:e.data.nome,onBlur:e.handleBlurName,disabled:e.data.enableEmp,autoFocus:!0}),i.a.createElement("label",{className:"active",htmlFor:"nome"},"Nome"),(t=e.config.empCollection,a="empreendList",e.data.nome.length>2?i.a.createElement("datalist",{id:a},t.map(function(e,t){return i.a.createElement("option",{key:t},e.nome)})):void 0)),r(ee,e.data.enableEmp))),i.a.createElement(q,{enableInput:e.enableRtInput,enable:e.data.enableEmp}),i.a.createElement("fieldset",{className:"input-field"},i.a.createElement("legend",{className:"input-field"},i.a.createElement("strong",null," 2 - Respons\xe1vel T\xe9cnico ")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"input-field col s12 m6 l4"},i.a.createElement("input",{type:"text",list:"rtList",className:"validate",name:"nomeRt",id:"rtInput",onChange:e.handleChange,value:e.data.nomeRt,onBlur:e.handleBlurRtName,disabled:e.data.enableRt,autoFocus:e.data.autoFocusRt}),i.a.createElement("label",{className:"active",htmlFor:"nome"},"Nome"),function(e,t,a){return a.length>2?i.a.createElement("datalist",{id:t},e.map(function(e,t){return i.a.createElement("option",{key:t},e.nomeRt)})):void 0}(e.config.rtCollection,"rtList",e.data.nomeRt)),r($,e.data.enableRt))),i.a.createElement(G,{onClick:e.enableEmpInput,disabled:e.data.enableRt,icon:"arrow_back"}),i.a.createElement(q,{enableInput:e.enableProcessInput,enable:e.data.enableRt}),i.a.createElement("fieldset",{className:"input-field"},i.a.createElement("legend",{className:"input-field"},i.a.createElement("strong",null," 3 - Dados do Empreendimento ")),i.a.createElement("div",{className:"row"},r(Z,e.data.enableProcess),i.a.createElement("div",{className:"col s12 m4 l2"},i.a.createElement(V.Input,{name:"modalidade",type:"select",label:"Modalidade",defaultValue:e.data.modalidade,onChange:e.handleChange,disabled:e.data.enableProcess},o)),i.a.createElement("div",{className:"col s12 m4 l3"},i.a.createElement(V.Input,{name:"munEmpreendimento",type:"select",label:"Munic\xedpio",defaultValue:e.data.munEmpreendimento,onChange:e.handleChange,disabled:e.data.enableProcess},n)))),i.a.createElement("div",null,i.a.createElement(G,{onClick:e.backToRt,disabled:e.data.enableProcess,icon:"arrow_back"}),i.a.createElement("input",{type:"submit",className:"btn right",disabled:e.data.enableProcess,style:{margin:"20px 0px"},value:"Cadastrar processo"})),i.a.createElement("br",null),i.a.createElement("br",null))))},ie=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(i)))).state={empId:"",rtId:"",nome:"",cpf:"",birth:"",phone:"",cep:"",numero:"",complemento:"",email:"",rua:"",bairro:"",cidade:"",uf:"",nomeRt:"",emailRt:"",phoneRt:"",nomeEmpreendimento:"",area:"",modalidade:"",munEmpreendimento:"",enableEmp:"",enableRt:"disabled",enableProcess:"disabled",empMatch:null,rtMatch:null},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.cadastro.empCollection[0]||this.props.loadEmpData(),this.props.cadastro.rtCollection[0]||this.props.loadRtData(),this.props.cadastro.processCollection[0]||this.props.loadProcessData()}},{key:"enableRtInput",value:function(){var e=Object(H.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({enableEmp:"disabled",enableRt:"",enableProcess:"disabled"});case 2:document.getElementById("rtInput").focus();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"enableProcessInput",value:function(){var e=Object(H.a)(U.a.mark(function e(){var t,a,n,i,o,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.cadastro.processCollection,a=[],t.map(function(e){return a.push(new Date(e.createdAt).getFullYear())}),n=Number((new Date).getFullYear()),i=a.filter(function(e){return e===n}),o=i.length,r=o+1+"/"+n,e.next=9,this.setState(Object(E.a)({},this.state,{nProcess:r,enableRt:"disabled",enableProcess:"",enableEmp:"disabled"}));case 9:document.getElementById("nomeEmpreendimento").focus();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enableEmpInput",value:function(e){this.setState({enableRt:"disabled",enableProcess:"disabled",enableEmp:""})}},{key:"handleBlur",value:function(e){var t=this;if(e.preventDefault(),"cep"===e.target.name){var a=this.state.cep.replace(".","");T.a.get("https://api.postmon.com.br/v1/cep/".concat(a)).then(function(e){t.setState(Object(E.a)({},t.state,{rua:e.data.logradouro,bairro:e.data.bairro,cidade:e.data.cidade,uf:e.data.estado}))})}}},{key:"handleChange",value:function(e){e.preventDefault();var t=[],a=[];if("nome"===e.target.name){var n,i,o=e.target.value;if(t=this.props.cadastro.empCollection.filter(function(e){return e.nome.toLowerCase().match(o.toLowerCase())}),o&&t[0])this.setState(Object(E.a)({},this.state,(n={},Object(_.a)(n,e.target.name,e.target.value),Object(_.a)(n,"empMatch",t),n)));else t="",this.setState(Object(E.a)({},this.state,(i={},Object(_.a)(i,e.target.name,e.target.value),Object(_.a)(i,"empMatch",t),i)))}else if("nomeRt"===e.target.name){var r,l,s=e.target.value;if(a=this.props.cadastro.rtCollection.filter(function(e){return e.nomeRt.toLowerCase().match(s.toLowerCase())}),s&&a[0])this.setState(Object(E.a)({},this.state,(r={},Object(_.a)(r,e.target.name,e.target.value),Object(_.a)(r,"rtMatch",a),r)));else a="",this.setState(Object(E.a)({},this.state,(l={},Object(_.a)(l,e.target.name,e.target.value),Object(_.a)(l,"rtMatch",a),l)))}else this.setState(Object(E.a)({},this.state,Object(_.a)({},e.target.name,e.target.value)))}},{key:"handleSubmit",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i,o,r,l,s,c,d,m,u,p,h,E;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state,n=a.nome,i=a.nomeRt,o=a.nomeEmpreendimento,r=a.modalidade,l=a.munEmpreendimento,s=a.empMatch,c=a.rtMatch,d=a.empId,m=a.rtId,u="Loteamento"===r?"Processo cadastrado":"Aguardando documenta\xe7\xe3o",p={nome:this.state.nome,cpf:this.state.cpf,rua:this.state.rua,bairro:this.state.bairro,cep:this.state.cep,cidade:this.state.cidade,phone:this.state.phone,email:this.state.email,numero:this.state.numero,complemento:this.state.complemento,uf:this.state.uf},h={nomeRt:this.state.nomeRt,emailRt:this.state.emailRt,phoneRt:this.state.phoneRt},E={nProcess:this.state.nProcess,nomeEmpreendimento:this.state.nomeEmpreendimento,modalidade:this.state.modalidade,area:this.state.area,munEmpreendimento:this.state.munEmpreendimento,status:u,tecnico:"T\xe9cnico n\xe3o alocado",cgt:"CGT n\xe3o agendada",vistoria:"Vistoria n\xe3o agendada",daeDir:"DAE n\xe3o recolhida",daeAnuencia:"DAE n\xe3o recolhida",processHistory:[{label:"Processo cadastrado",createdAt:new Date}]},n&&i&&o?r&&l?n&&i&&o&&r&&l&&(s&&c?(E.empId=d,E.rtId=m,T.a.post("/api/cadastro_process",E).then(function(e){return window.location.reload()})):s&&!c?(E.empId=d,T.a.post("/api/cadastro_rt",h).then(function(e){E.rtId=e.data.RT_id,T.a.post("/api/cadastro_process",E)}).then(function(e){return window.location.reload()})):!s&&c?(E.rtId=m,T.a.post("/api/cadastro_emp",p).then(function(e){E.empId=e.data.Cadastro_id,T.a.post("/api/cadastro_process",E)}).then(function(e){return window.location.reload()})):s||c||T.a.post("/api/cadastro_emp",p).then(function(e){E.empId=e.data.Cadastro_id,T.a.post("/api/cadastro_rt",h).then(function(e){E.rtId=e.data.RT_id,T.a.post("/api/cadastro_process",E)}).then(function(e){return window.location.reload()})})):alert("Favor preencher a modalidade e o munic\xedpio do empreendimento."):alert("Favor preencher os dados do empreendedor, RT e empreendimento.");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleBlurName",value:function(){this.state.empMatch&&this.state.empMatch[0]&&this.state.empMatch[0].nome===this.state.nome?(this.setState(Object(E.a)({},this.state,{empId:this.state.empMatch[0]._id,phone:this.state.empMatch[0].phone,cpf:this.state.empMatch[0].cpf,cep:this.state.empMatch[0].cep,numero:this.state.empMatch[0].numero,complemento:this.state.empMatch[0].complemento,email:this.state.empMatch[0].email,rua:this.state.empMatch[0].rua,bairro:this.state.empMatch[0].bairro,cidade:this.state.empMatch[0].cidade,uf:this.state.empMatch[0].uf})),this.enableRtInput()):this.setState(Object(E.a)({},this.state,{empId:"",phone:"",cpf:"",birth:"",cep:"",numero:"",complemento:"",email:"",rua:"",bairro:"",cidade:"",uf:""}))}},{key:"handleBlurRtName",value:function(){var e=Object(H.a)(U.a.mark(function e(){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.rtMatch||!this.state.rtMatch[0]||this.state.rtMatch[0].nomeRt!==this.state.nomeRt){e.next=6;break}return e.next=3,this.setState({rtId:this.state.rtMatch[0]._id,phoneRt:this.state.rtMatch[0].phoneRt,emailRt:this.state.rtMatch[0].emailRt});case 3:""!==this.state.enableEmp&&this.enableProcessInput(),e.next=7;break;case 6:this.setState({rtId:"",phoneRt:"",emailRt:""});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"backToRt",value:function(){this.setState({enableEmp:"disabled",enableRt:"",enableProcess:"disabled"})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ne,{data:this.state,config:this.props.cadastro,handleChange:this.handleChange.bind(this),handleBlurName:this.handleBlurName.bind(this),handleBlurRtName:this.handleBlurRtName.bind(this),handleSubmit:this.handleSubmit.bind(this),handleBlur:this.handleBlur.bind(this),enableRtInput:this.enableRtInput.bind(this),enableProcessInput:this.enableProcessInput.bind(this),enableEmpInput:this.enableEmpInput.bind(this),backToRt:this.backToRt.bind(this),color:this.props.cadastro.setColor}))}}]),t}(i.a.Component);var oe=Object(c.b)(function(e){return{cadastro:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R},e)})(ie);function re(e,t){return function(t){T.a.delete("/api/deleteEmp/"+e).then(t(I()))}}function le(e,t){return function(t){T.a.delete("/api/deleteRt/"+e).then(t(A()))}}var se=function(e,t){return function(t){T.a.delete("/api/deleteProcess/"+e).then(t(R()))}};function ce(){return{type:"DISABLE_EDIT"}}function de(e){return{type:"FIND_EMP_ID",payload:e}}function me(e){return{type:"CHANGE_SEARCH_VALUE",payload:e}}var ue=[{name:"processHistory",label:"Hist\xf3rico do Processo",div:"col s1"},{name:"_id",label:"ID",div:"col s3"},{name:"nProcess",label:"Num. do processo",div:"col s1"},{name:"nomeEmpreendimento",label:"Nome do empreendimento",div:"col s2"},{name:"modalidade",label:"Modalidade",div:"col s1"},{name:"area",label:"\xc1rea (m\xb2)",div:"col s1"},{name:"munEmpreendimento",label:"Munic\xedpio",div:"col s1"},{name:"status",label:"Status do processo",div:"col s1"},{name:"tecnico",label:"T\xe9cnico da Ag\xeancia",div:"col s1"},{name:"cgt",label:"Data da CGT",div:"col s1"},{name:"vistoria",label:"Data da Vistoria",div:"col s1"},{name:"daeDir",label:"DAE - Diretrizes",div:"col s1"},{name:"daeAnuencia",label:"DAE - Anu\xeancia",div:"col s1"},{name:"empId",label:"EmpId",div:"col s1"},{name:"rtId",label:"rtId",div:"col s1"},{name:"createdAt",label:"Data de Cria\xe7\xe3o",div:"col s1"},{name:"updatedAt",label:"Atualizado em",div:"col s1"},{name:"__v",label:"version",div:"col s1"}],pe=[{label:"Diretrizes Municipais",nameInput:"dirMunFile"},{label:"Levantamento Planialtim\xe9trico",nameInput:"levPlanFile"},{label:"Comprovante de pagamento da DAE",nameInput:"dirDaeFile"}],he=[{name:"_id",label:"ID",div:"col s1"},{name:"nome",label:"Nome",div:"col s2"},{name:"cpf",label:"CPF",div:"col s2"},{name:"rua",label:"Rua",div:"col s3"},{name:"bairro",label:"Bairro",div:"col s1"},{name:"cep",label:"CEP",div:"col s1"},{name:"cidade",label:"Cidade",div:"col s2"},{name:"phone",label:"Telefone",div:"col s1"},{name:"email",label:"E-mail",div:"col s2"},{name:"numero",label:"N\xfamero",div:"col s1"},{name:"complemento",label:"Complemento",div:"col s1"}],Ee=[{name:"_id",label:"ID",div:"col s1"},{name:"nomeRt",label:"Nome",div:"col s1"},{name:"emailRt",label:"E-mail",div:"col s2"},{name:"phoneRt",label:"Telefone",div:"col s2"}],ve=[{nameInput:"regImovel",label:"Registro do Im\xf3vel",tooltip:"Certid\xe3o de Registro do Im\xf3vel com negativa de \xf4nus, emitida em at\xe9 30 dias antes da entrada do processo na Prefeitura Municipal."},{nameInput:"CNDMun",label:"Certid\xe3o Negativa de tributos municipais",tooltip:"Certid\xe3o Negativa de tributos municipais."},{nameInput:"empRG",label:"Fotoc\xf3pia da Identidade do propriet\xe1rio",tooltip:"Fotoc\xf3pia da Identidade do propriet\xe1rio; no caso de pessoa jur\xeddica, fotoc\xf3pia do contrato social e de suas altera\xe7\xf5es."},{nameInput:"art",label:"ART com comprovante de pagamento",tooltip:"ART referente ao projeto com comprovante de pagamento"},{nameInput:"decConform",label:"Declara\xe7\xe3o de conformidade",tooltip:"Documento emitido pela Prefeitura Municipal declarando a conformidade do parcelamento com a legisla\xe7\xe3o municipal"},{nameInput:"daeAnuencia",label:"Comprovante de pagamento da DAE",tooltip:"Comprovante de pagamento da taxa de expediente para emiss\xe3o de anu\xeancia pr\xe9via por meio de Documento de Arrecada\xe7\xe3o Estadual"},{nameInput:"memDescritivo",label:"Memorial descritivo",tooltip:"Descri\xe7\xe3o sucinta do loteamento com suas caracter\xedsticas, \xe1reas p\xfablicas, equipamentos etc. "},{nameInput:"memDescTp",label:"Memorial Descritivo do Projeto de Terraplenagem",tooltip:"O memorial dever\xe1 conter a determina\xe7\xe3o da inclina\xe7\xe3o dos taludes de corte e aterro e a caracteriza\xe7\xe3o do tipo de solo."},{nameInput:"cemig",label:"Certid\xe3o da Cemig",tooltip:"Cemig"},{nameInput:"dtbCopasa",label:"Diretriz T\xe9cnica B\xe1sica (Copasa)",tooltip:"O memorial dever\xe1 conter a determina\xe7\xe3o da inclina\xe7\xe3o dos taludes de corte e aterro e a caracteriza\xe7\xe3o do tipo de solo."},{nameInput:"licAmbental",label:"AAF ou Licen\xe7a Ambiental de Instala\xe7\xe3o",tooltip:"Certid\xe3o de Dispensa (classe 1) Autoriza\xe7\xe3o Ambiental de Funcionamento (classe 3) ou LI (classe 5). "}],fe=[{nameInput:"levPlan",label:"Levantamento Planialtim\xe9trico",tooltip:"mesma escala do Projeto Urban\xedstico, em sistema de coordenadas UTM e com delimita\xe7\xe3o e confrontantes compat\xedveis com a descri\xe7\xe3o da Certid\xe3o de Registro do im\xf3vel"},{nameInput:"projUrb",label:"Projeto Urban\xedstico",tooltip:"Com coordenadas UTM, curvas de n\xedvel e escala de 1:25000"},{nameInput:"mapaIso",label:"Projeto Urban\xedstico com mapa de Isodeclividade",tooltip:"Mapa de isodeclividade com intervalos 0 a 30%, 30 a 47% e acima de 47%"},{nameInput:"projTer",label:"Projeto de Terraplenagem",tooltip:"Projeto na mesma escala do Projeto Urban\xedstico e em sistema de coordenadas UTM"},{nameInput:"projDren",label:"Projeto de Drenagem",tooltip:"Projeto na mesma escala do Projeto Urban\xedstico e em sistema de coordenadas UTM"}],be=[{nameInput:"regImovel",label:"Registro do Im\xf3vel",tooltip:"Certid\xe3o de Registro do Im\xf3vel com negativa de \xf4nus, emitida em at\xe9 30 dias antes da entrada do processo na Prefeitura Municipal."},{nameInput:"CNDMun",label:"Certid\xe3o Negativa de tributos municipais",tooltip:"Certid\xe3o Negativa de tributos municipais."},{nameInput:"empRG",label:"Fotoc\xf3pia da Identidade do propriet\xe1rio",tooltip:"Fotoc\xf3pia da Identidade do propriet\xe1rio; no caso de pessoa jur\xeddica, fotoc\xf3pia do contrato social e de suas altera\xe7\xf5es."},{nameInput:"art",label:"ART com comprovante de pagamento",tooltip:"ART referente ao projeto com comprovante de pagamento"},{nameInput:"decConform",label:"Declara\xe7\xe3o de conformidade",tooltip:"Documento emitido pela Prefeitura Municipal declarando a conformidade do parcelamento com a legisla\xe7\xe3o municipal"},{nameInput:"daeAnuencia",label:"Comprovante de pagamento da DAE",tooltip:"Comprovante de pagamento da taxa de expediente para emiss\xe3o de anu\xeancia pr\xe9via por meio de Documento de Arrecada\xe7\xe3o Estadual"},{nameInput:"memDescritivo",label:"Memorial descritivo",tooltip:"Descri\xe7\xe3o sucinta do loteamento com suas caracter\xedsticas, \xe1reas p\xfablicas, equipamentos etc. "}],ge=[{nameInput:"projDesmemb",label:"Projeto de Desmembramento"}],Ce=function(){var e=[];return pe.forEach(function(t){e.push(t)}),ve.forEach(function(t){e.push(t)}),fe.forEach(function(t){e.push(t)}),e.push({nameInput:"diretrizFile",label:"Diretrizes Metropolitanas"},{nameInput:"notaTecnica",label:"Nota T\xe9cnica"},{nameInput:"anuenciaFile",label:"Certid\xe3o de Anu\xeancia Metropolitana"},{nameInput:"projDesmemb",label:"Projeto de Desmembramento"}),e},ye=function(e){return Ce().filter(function(t){return t.nameInput.match(e)})[0].label},Ne=function(e,t){var a;if((a=he.filter(function(t){return t.name===e}).concat(Ee.filter(function(t){return t.name===e})).concat(ue.filter(function(t){return t.name===e})))&&a.length>0)switch(t){case"div":return a[0].div;case"label":return a[0].label;default:return null}},Oe=function(e){var t,a=e.empId,n=e.rtId,o=e.showEmp,r=e.showRt,l=e.close,s=e.empCollection,c=e.rtCollection,d="";return o&&s&&(d=s.filter(function(e){return e._id.match(a)}),t=Object.entries(d[0]).splice(2,9)),r&&c&&(d=c.filter(function(e){return e._id.match(n)}),t=Object.entries(d[0]).splice(2,2)),""!==d&&(o||r)?i.a.createElement("div",{className:"card z-depth-5",style:{position:"fixed",top:"30%",right:"33%",left:"33%",padding:"5px 0px 7px 20px",borderRadius:"15px",border:"1px solid #aaa"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"center"},i.a.createElement("h5",null,d[0].nome)),i.a.createElement("div",{className:"center"},i.a.createElement("h5",null,d[0].nomeRt))),i.a.createElement("div",{className:"row"},t.map(function(e,t){return i.a.createElement("div",{className:"col s12 m6",key:t},i.a.createElement("strong",null," ",Ne(e[0],"label"),": "),e[1]," ")})),i.a.createElement("div",{style:{position:"absolute",top:"0.4%",right:"0.4%"}},i.a.createElement(X,{close:l}))):null},Se=ae.munEmpreendimento.options.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e)}),De=te.options.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e)}),xe=function(e){return e.data.edit&&e.data.item?i.a.createElement("form",{onSubmit:e.submit,id:"".concat(e.data.select)},function(){if(e.data.edit&&e.data.item){var t=function(e,t){return e.splice(e.length-t,e.length),e},a=e.data.item,n=[];for(var o in a)n.push({key:o,value:a[o]});var r=n;return"emp"===e.data.select&&n.length>14&&(r=t(n,3)),"rt"===e.data.select&&n.length>5&&(r=t(n,3)),"rt"===e.data.select&&5===n.length&&(r=t(n,1)),"process"===e.data.select&&(r=t(n.slice(2),9)),r.map(function(t,a){return"_id"===t.key?void 0:"modalidade"===t.key?i.a.createElement("div",{className:"col s2",key:a+100},i.a.createElement(V.Input,{name:"modalidade",type:"select",label:"Modalidade",defaultValue:e.data.item[t.key],onChange:e.change},De)):"munEmpreendimento"===t.key?i.a.createElement("div",{className:"col s4",key:a+200},i.a.createElement(V.Input,{name:"munEmpreendimento",type:"select",label:"Munic\xedpio",defaultValue:e.data.item[t.key],onChange:e.change},Se)):i.a.createElement("div",{key:a,className:"input-field col s3"},i.a.createElement("label",{className:"active"},t.key.replace(/\w/,function(e){return e.toUpperCase()})),i.a.createElement("input",{type:"text",className:"active",name:t.key,value:e.data.item[t.key],onChange:e.change}))})}return null}()):null},we=(a(74),function(e){var t=e.edit;return i.a.createElement("div",null,i.a.createElement(Q,{title:"Gerenciar Dados",subtitle:" Edite e gerencie os dados dos processos, interesados e RTs utilizando os filtros dispon\xedveis ",color:e.color}),!1===t?i.a.createElement("div",null,i.a.createElement("label",null,"Selecione o m\xe9todo de Busca"),i.a.createElement("br",null),i.a.createElement("div",{className:"col s3"},i.a.createElement("select",{className:"browser-default",value:e.select,onChange:e.onSelect},i.a.createElement("option",{value:"",key:"1",label:"Selecionar"},"Selecionar "),i.a.createElement("option",{value:"emp",key:"2",label:"Empreendedor"},"Empreendedor "),i.a.createElement("option",{value:"rt",key:"3",label:"Respons\xe1vel T\xe9cnico"},"Respons\xe1vel T\xe9cnico "),i.a.createElement("option",{value:"process",key:"4",label:"Processo"},"Processo "))),i.a.createElement("div",{className:"col s9"},i.a.createElement("form",{className:"input-field"},i.a.createElement("input",{className:"form-control",value:e.search,onChange:e.change,type:"search",placeholder:"procurar... (mostrando 30 primeiros resultados)","aria-label":"Search"})))):i.a.createElement("h5",{style:{marginBottom:"40px"}},"Editar dados"))}),ke=function(e){var t,a=e.redux,n=e.emps,o=e.rts,r=e.process,l=e.empFields,s=e.rtFields,c=e.showRt,d=e.edit,m=e.deleteOne,u=e.data,p=e.fields,h=e.divConfig,E=e.color,v=e.empDetails,f=e.rtDetails,b=e.showInfo,g=e.clearLog,C=[],y=[];if(n&&n[0]&&!1===u.edit)C=n,t=l,y=he,h=["col s2","col s2","col s2","col s1","col s1"];else if(o&&o[0]&&!1===u.edit)C=o,t=s,y=Ee,h=["col s4","col s4","col s4"];else{if(!r||!r[0]||!1!==u.edit)return null;C=r,t=p,y=ue}var N=[];return y.length>0&&t.map(function(e){return N.push({name:y[e].name,label:y[e].label,div:y[e].div})}),i.a.createElement("div",{className:"z-depth-3",style:{padding:"0px 11px",borderRadius:"10px"}},i.a.createElement("div",{className:"row tableHeader",style:{backgroundColor:E,filter:"brightness(190%)",padding:"5px 0px"}},N.map(function(e,t){return"_id"!==e.name?i.a.createElement("div",{className:h[t],key:t}," ",e.label," "):void 0}),"process"===u.select?i.a.createElement("div",null,i.a.createElement("div",{className:"col s2"},"Interessado "),c?i.a.createElement("div",{className:"col s1"},"RT "):void 0):void 0),C.map(function(e,n){var o,r,l=[],s=a.empCollection.filter(function(t){return t._id.match(e.empId)});for(var p in s)o={key:p,values:s[p]};for(var E in r=a.rtCollection.filter(function(t){return t._id.match(e.rtId)}))r={key:E,values:r[E]};for(var C in e)l.push({key:C,values:e[C]});var y=[];return t&&t.length>0&&t.map(function(e){return y.push(l[e])}),i.a.createElement("div",{className:"row",key:n,style:{borderBottom:"1px dotted #bbb",paddingBottom:"1%"}},y.map(function(e,t){return"_id"!==e.key?!isNaN(Date.parse(e.values))&&String(e.values).length>15?i.a.createElement("div",{key:t,className:"col s1"},new Date(e.values).getDate(),"/",new Date(e.values).getMonth()+1,"/",new Date(e.values).getFullYear()):i.a.createElement("div",{key:t,className:h[t],style:{wordBreak:"break-word"}},e.values):void 0}),"process"===u.select&&o&&o.values?i.a.createElement("div",{id:o.values._id,className:"col s2",style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:v},o.values.nome):i.a.createElement("div",{className:"col s2"},"  "),c&&"process"===u.select&&r&&r.values?i.a.createElement("div",{id:r.values._id,className:"col s1",style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:f},r.values.nomeRt):i.a.createElement("div",{className:"col s1"}," "),"process"===u.select?i.a.createElement("div",{className:"col s2 right",style:{display:"flex",justifyContent:"space-between",maxWidth:"95px",margin:"0 auto",padding:"0px 5px",height:"100%",verticalAlign:"middle"}},i.a.createElement(K,{showInfo:b,clearLog:g,id:e._id}),i.a.createElement(J,{edit:d,id:e._id}),i.a.createElement(W,{delete:m,id:e._id})):i.a.createElement("div",{className:"col s2 right",style:{display:"flex",justifyContent:"space-around",maxWidth:"95px",margin:"0 auto",padding:"0px 5px",height:"100%",verticalAlign:"middle"}},i.a.createElement(J,{edit:d,id:e._id}),i.a.createElement(W,{delete:m,id:e._id})))}))},Te=function(e){return/\d/.test(e)?new Date(e).getDate()+"/"+(new Date(e).getMonth()+1)+"/"+new Date(e).getFullYear()+", "+new Date(e).getHours()+":"+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+"h":e},Ie=function(e){return e>1024&&e<1048576?Math.round(e/1024)+" KB":e>=1048576&&e<1073741824?(e/1024/1024).toFixed(2)+" MB":e+" bytes"},Ae=function(e,t){if(!0===e)return{position:"fixed",top:t[0],right:"15%",left:"15%",height:t[1],borderRadius:"15px",backgroundColor:"#fcfcfc",border:"2px solid #aaa",marginBottom:"25px",marginTop:"25px",overflowY:"auto",overflowX:"hidden",zIndex:1,padding:"2rem"}},Re=function(e){T()({url:"/api/download/".concat(e.target.id),method:"GET",responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",e.headers.originalname),document.body.appendChild(a),a.click()})},je=function(e){function t(){return Object(O.a)(this,t),Object(D.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearLog()}},{key:"render",value:function(){var e=this.props,t=e.process,a=e.index,n=e.clearLog,o=e.soloComponent,r=e.hideLog,l=t.processHistory[a];return i.a.createElement("div",{style:Ae(o,["15%","70%"])},!0===o?i.a.createElement("div",{className:"row",style:{textAlign:"center"}},i.a.createElement("div",{style:{position:"absolute",top:"0.5%",right:"0.5%"}},i.a.createElement(X,{close:r}))):null,"Pend\xeancias para emiss\xe3o de diretrizes"===l.label||l.label.match("An\xe1lise")?i.a.createElement("div",null,i.a.createElement("h5",null,l.label)," ",i.a.createElement("hr",null)," ",i.a.createElement("br",null)):i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("h5",null," ",i.a.createElement("img",{alt:"",src:"/images/folderIcon2.jpg",style:{paddingLeft:"20px",marginRight:"20px"}})," Arquivos > ",t.nomeEmpreendimento," > ",l.label)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6"},i.a.createElement("div",{className:"col s1"},i.a.createElement("img",{alt:"",src:"/images/multipleFiles2.png"})),i.a.createElement("div",{className:"col s11"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Arquivo"))),i.a.createElement("div",{className:"col s3"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Data de Upload")),i.a.createElement("div",{className:"col s3"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Tamanho")))),"Pend\xeancias para emiss\xe3o de diretrizes"===l.label?i.a.createElement("div",null,l.pendencias):l.label.match("An\xe1lise")?i.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.pendencias}}):l.files.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6"},i.a.createElement("div",{className:"col s1"},i.a.createElement("img",{alt:"",src:"/images/genericFile.png"})),i.a.createElement("div",{className:"col s11"},i.a.createElement("span",{id:e.id,style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:Re},(a=e.fieldName,Ce().filter(function(e){return e.nameInput.match(a)})[0].label)))),i.a.createElement("div",{className:"col s3"},Te(e.uploadDate)),i.a.createElement("div",{className:"col s3"},Ie(e.fileSize))));var a}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s1 left",style:{marginTop:"1%"}},i.a.createElement("strong",null,i.a.createElement("i",{className:"material-icons",style:{marginTop:"10%",color:"teal",cursor:"pointer",border:"1px solid #bbb",borderRadius:"55%"},onClick:n}," arrow_back")))))}}]),t}(n.Component),Fe=function(e){var t=e.logDetails,a=e.index,n=e.process,o=e.showLog,r=e.clearLog,l=e.soloComponent,s=e.hideLog;return!1===t?i.a.createElement("div",{style:Ae(l,["15%","70%"])},!0===l?i.a.createElement("div",{className:"row",style:{textAlign:"center"}},i.a.createElement("div",{style:{position:"absolute",top:"0.5%",right:"0.5%"}},i.a.createElement(X,{close:s})),i.a.createElement("h5",null,"Hist\xf3rico do Processo - ",n.nomeEmpreendimento)):null,i.a.createElement("div",{className:"row",style:{padding:"2% 0% 0% 3%",fontSize:"18px"}},i.a.createElement("div",{className:"col s12 m9"}," ",i.a.createElement("strong",null,"Status do processo")," "),i.a.createElement("div",{className:"col s12 m3 center",style:{fontsize:"10px"}}," ",i.a.createElement("strong",null,"Data")," ")),n.processHistory.map(function(e,t){return i.a.createElement("div",{className:"row",key:t,style:{paddingLeft:"3%"}},"Processo cadastrado"===e.label?i.a.createElement("div",null,i.a.createElement("div",{className:"col s12 m9"},e.label),i.a.createElement("div",{className:"col s12 m3 center"}," ",Te(e.createdAt))):i.a.createElement("div",null,i.a.createElement("div",{className:"col s12 m9"},i.a.createElement("span",{style:{textDecoration:"underline",cursor:"pointer",color:"blue"},id:t,onClick:o},e.label)),i.a.createElement("div",{className:"col s12 m3 center"}," ",Te(e.createdAt))))})):i.a.createElement(je,{process:n,index:a,clearLog:r,soloComponent:l,hideLog:s})},Pe=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).state={search:"",select:"process",edit:!1,selectId:"",itemId:"",item:{},nome:"",setColor:"",showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:"",cgt:"",showInfo:"",process:"",logIndex:"",logDetails:!1},e.deleteHandler=function(t){"emp"===e.state.select&&e.props.deleteEmp(t),"rt"===e.state.select&&e.props.deleteRt(t),"process"===e.state.select&&e.props.deleteProcess(t)},e.handleSelect=function(t){e.setState(Object(E.a)({},e.state,{select:t.target.value}))},e.enableEdit=function(t){var a=[],n={};"emp"===e.state.select&&(a=e.props.cadastro.empCollection.filter(function(e){return e._id.match(t)}),n=Object.assign({},a)),"rt"===e.state.select&&(a=e.props.cadastro.rtCollection.filter(function(e){return e._id.match(t)}),n=Object.assign({},a)),"process"===e.state.select&&(a=e.props.cadastro.processCollection.filter(function(e){return e._id.match(t)}),n=Object.assign({},a)),e.setState(Object(E.a)({},e.state,{item:n[0],edit:!0}))},e.disableEdit=function(){e.props.disableEdit(),e.setState(Object(E.a)({},e.state,{edit:!1}))},e.editValue=function(t){if(e.state.item){var a=Object.assign({},e.state.item,Object(_.a)({},t.target.name,t.target.value));e.setState(Object(E.a)({},e.state,{item:a}))}},e.saveEdit=function(t){e.state.item&&"emp"===e.state.select&&T.a.put("/api/editEmp",{item:e.state.item}),e.state.item&&"rt"===e.state.select&&T.a.put("/api/editRt",{item:e.state.item}).catch(function(e){return alert(e)}),e.state.item&&"process"===e.state.select&&T.a.put("/api/editProcess",{_id:e.state.item._id,item:e.state.item}).catch(function(e){return alert(e)})},e.escFunction=function(t){27===t.keyCode&&(e.state.showEmpDetails||e.state.showRtDetails)&&e.closeDetails(),e.state.showInfo&&e.hideLog()},e}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.cadastro.empCollection[0]||this.props.loadEmpData(),this.props.cadastro.rtCollection[0]||this.props.loadRtData(),this.props.cadastro.processCollection[0]||this.props.loadProcessData(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"handleSearchBar",value:function(){var e=Object(H.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({search:t.target.value});case 2:this.props.changeHandler(this.state.search);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"empDetails",value:function(e){this.setState({showEmpDetails:!0,showRtDetails:!1,empId:e.target.id})}},{key:"rtDetails",value:function(e){this.setState({showEmpDetails:!1,showRtDetails:!0,rtId:e.target.id})}},{key:"closeDetails",value:function(){this.setState({showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:""})}},{key:"showInfo",value:function(e){var t=this.props.cadastro.processCollection.filter(function(t){return t._id.match(e.target.id)});this.setState({showInfo:!0,process:t[0]})}},{key:"showLog",value:function(e){this.setState({logIndex:e.target.id,logDetails:!0})}},{key:"hideLog",value:function(){this.setState({logIndex:"",showInfo:!1})}},{key:"clearLog",value:function(){this.setState({logDetails:!1,logIndex:""})}},{key:"render",value:function(){var e=this,t=[],a=[],n=[],o=this.state,r=o.search,l=o.select,s=r.trim().toLowerCase();return r&&r.length>2&&"emp"===l?t=this.props.cadastro.empCollection.filter(function(e){return e.nome.toLowerCase().match(s)}).slice(0,20):(!r||r.length<=2)&&"emp"===l&&(t=this.props.cadastro.empCollection.slice(0,30)),r&&r.length>2&&"rt"===l?a=this.props.cadastro.rtCollection.filter(function(e){return e.nomeRt.toLowerCase().match(s)}).slice(0,20):(!r||r.length<=2)&&"rt"===l&&(a=this.props.cadastro.rtCollection.slice(0,30)),r&&r.length>2&&"process"===l?n=this.props.cadastro.processCollection.filter(function(e){return e.nomeEmpreendimento.toLowerCase().match(s)}).slice(0,20):(!r||r.length<=2)&&"process"===l&&(n=this.props.cadastro.processCollection.slice(0,30)).sort(function(e,t){var a=new Date(e.updatedAt),n=new Date(t.updatedAt);return a&&n?n.getTime()>a.getTime()?1:a.getTime()>n.getTime()?-1:0:null}),i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement(we,{search:r,select:l,edit:this.state.edit,redux:this.props.cadastro,onSelect:this.handleSelect,change:function(t){return e.handleSearchBar(t)},color:this.props.cadastro.setColor}),this.state.showInfo?i.a.createElement("div",null,i.a.createElement(Fe,{process:this.state.process,logDetails:this.state.logDetails,index:this.state.logIndex,showLog:this.showLog.bind(this),hideLog:this.hideLog.bind(this),clearLog:this.clearLog.bind(this),soloComponent:!0})):null,i.a.createElement("div",null,i.a.createElement(ke,{data:this.state,redux:this.props.cadastro,emps:t,rts:a,process:n,empFields:[1,2,3,6,7,8],rtFields:[1,2,3],showRt:!1,fields:[2,3,4,5,6,7,8,16],divConfig:["col s1","col s2","col s1","col s1","col s1","col s1","col s1","col s1"],edit:this.enableEdit.bind(this),deleteOne:this.deleteHandler.bind(this),color:this.props.cadastro.setColor,empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this),showInfo:this.showInfo.bind(this),clearLog:this.clearLog.bind(this)}),i.a.createElement(xe,{redux:this.props.cadastro,data:this.state,disableEdit:this.disableEdit.bind(this),change:function(t){return e.editValue(t)},submit:function(t){return e.saveEdit(t)}})),i.a.createElement("div",null,this.state.edit?i.a.createElement(G,{onClick:this.disableEdit,icon:"arrow_back"}):null,i.a.createElement(Y,{form:"".concat(l),display:this.state.edit}),i.a.createElement(Oe,{empId:this.state.empId,rtId:this.state.rtId,showEmp:this.state.showEmpDetails,showRt:this.state.showRtDetails,close:this.closeDetails.bind(this),empCollection:this.props.cadastro.empCollection,rtCollection:this.props.cadastro.rtCollection})))}}]),t}(n.Component);var Le=Object(c.b)(function(e){return{cadastro:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R,deleteEmp:re,deleteRt:le,deleteProcess:se,handleEdit:de,disableEdit:ce,changeHandler:me},e)})(Pe),Me=function(e){var t=e.div||"col s1";return e.cond?i.a.createElement("div",{className:t},e.value||e.children):null},ze=function(e){var t=e.search,a=e.collection,n=e.rtCollection,o=e.processCollection,r=e.onSelect,l=e.checked,s=e.fields,c=e.color,d=e.renderEmp,m=e.renderRt,u=e.empDetails,p=e.rtDetails,h=e.showFiles,E=e.ocultarArquivos,v=[];if(o&&o[0]){for(var f in o)o[f].solDirFiles&&o[f].solDirFiles.length>0&&v.push(o[f].solDirFiles);v[0]}var b=[];return s.map(function(e){return b.push({name:ue[e].name,label:ue[e].label,div:ue[e].div})}),i.a.createElement("div",null,t.length>0?i.a.createElement("div",{className:"row tableHeader",style:{backgroundColor:c}},b.map(function(e,t){return i.a.createElement(Me,{cond:"_id"!==e.name,value:e.label,div:e.div,key:t})}),i.a.createElement(Me,{cond:d,value:"Interessado",div:"col s2"}),i.a.createElement(Me,{cond:m,value:"RT"}),i.a.createElement(Me,{cond:!E,value:"Arquivos"}),i.a.createElement("div",{className:"col s1"},"Selecionar")):null,t.length>0?t.map(function(e,t){var o=[],c=a.filter(function(t){return t._id.match(e.empId)})[0],v=n.filter(function(t){return t._id.match(e.rtId)})[0];for(var f in e)o.push({key:f,values:e[f]});var b=[];return s.map(function(e){return b.push(o[e])}),i.a.createElement("div",{className:"row",key:t},b.map(function(e,t){return"_id"!==e.key?!isNaN(Date.parse(e.values))&&String(e.values).length>15?i.a.createElement("div",{key:t,className:Ne(e.key,"div")},new Date(e.values).getDate(),"/",new Date(e.values).getMonth()+1,"/",new Date(e.values).getFullYear()):i.a.createElement("div",{key:t,className:Ne(e.key,"div"),style:{wordBreak:"break-word"}},e.values):null}),c?i.a.createElement(Me,{cond:[c,d],div:"col s2"},i.a.createElement("span",{id:c._id,className:"link",onClick:u},c.nome)):i.a.createElement("div",{className:"col s1"}," "),v?i.a.createElement(Me,{cond:[v,m],div:"col s1"},i.a.createElement("span",{id:v._id,className:"link",onClick:p},v.nomeRt)):i.a.createElement("div",{className:"col s1"}," "),i.a.createElement(Me,{cond:!E,div:"col s1"},i.a.createElement("span",{id:"".concat(e._id,"z"),className:"link",onClick:h},"Ver arquivos")),i.a.createElement("div",{className:"col s1 center"},i.a.createElement("input",{id:e._id,type:"radio",name:"group1",onClick:r,value:b.map(function(e){return"_id"===e.key?"".concat(e.values):void 0}),defaultChecked:l===e._id}),i.a.createElement("label",{htmlFor:e._id}," ")))}):i.a.createElement("div",{style:{textAlign:"center",padding:"4% 0"}},i.a.createElement("strong",null,"Nenhum processo encontrado.")))},_e=function(e){var t,a=e.setColor,n=e.search,o=e.searchArray,r=e.selectProcess,l=e.submitFiles,s=e.data,c=e.redux,d=e.children,m=e.empDetails,u=e.rtDetails;return s.selectedId&&(t=c.processCollection.filter(function(e){return e._id.match(s.selectedId)})),i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement(Q,{title:"Solicitar Diretrizes Metropolitanas",subtitle:'Para solicitar diretrizes metropolitanas, selecione o processo na lista abaixo, \r fa\xe7a o upload dos documentos necess\xe1rios em pdf e clique em "Solicitar Diretrizes".',color:a}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("label",null,"Filtrar"),i.a.createElement("input",{className:"input",type:"text",name:"search",onChange:n})),i.a.createElement("div",{className:"col s1 right",style:{paddingTop:"35px"}},i.a.createElement("i",{className:"material-icons"},"search"))),i.a.createElement("div",{className:"z-depth-3",style:{padding:"0px 10px 1px",borderRadius:"10px"}},i.a.createElement(ze,{search:o,collection:c.empCollection,rtCollection:c.rtCollection,onSelect:r,checked:s.checked,color:a,fields:[1,2,3,4,5,6,7,8],renderEmp:!0,renderRt:!0,empDetails:m,rtDetails:u,ocultarArquivos:!0})),i.a.createElement("div",{className:"row",style:{marginTop:"15px"}},i.a.createElement("div",{className:"col s1 right"},i.a.createElement(G,{disabled:null===s.checked,icon:"clear",onClick:e.clear}))),i.a.createElement("div",null,s.selectedId&&s.checked?i.a.createElement("div",null,i.a.createElement("fieldset",null,i.a.createElement("legend",{style:{fontSize:"1.3rem"}},t[0].nomeEmpreendimento," - Documentos para solicita\xe7\xe3o de diretrizes"),d),i.a.createElement("button",{className:"btn teal darken-3 right",style:{marginBottom:"20px"},onClick:l},"Solicitar Diretrizes")):void 0))},Be=function(e){return i.a.createElement("div",{className:"row col s12",style:{padding:"10px",paddingLeft:"20px",paddingRight:"20px",margin:0}},i.a.createElement("label",{style:{fontSize:"16px",paddingTop:"15px",fontWeight:450,color:"black"}},e.object.label),i.a.createElement("div",{className:"row file-field input-field",key:e.object.nameInput},i.a.createElement("div",{className:"file-path-wrapper row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Carregar arquivo"})),i.a.createElement("div",{className:"col s1 right"},i.a.createElement("i",{className:"material-icons grey-text text-darken-1 small"},"attach_file"),i.a.createElement("input",{type:"file",name:e.object.nameInput,onChange:e.upload})))))},Ue=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).state={searchValue:"",dataMatch:[],toggleUpload:!1,selectedId:"",checked:null,files:[],form:null,dirMunFile:"",levPlanFile:"",dirDaeFile:"",showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:""},e.escFunction=function(t){27===t.keyCode&&e.closeDetails()},e}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.redux.empCollection[0]||this.props.loadEmpData(),this.props.redux.processCollection[0]||this.props.loadProcessData(),this.props.redux.rtCollection[0]||this.props.loadRtData(),T.a.get("/api/files"),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"handleSearch",value:function(e){this.setState(Object(E.a)({},this.state,{searchValue:e.target.value,checked:!1})),document.getElementsByName("group1").forEach(function(e){return e.checked=!1})}},{key:"clearSearch",value:function(e){this.setState(Object(E.a)({},this.state,{searchValue:"",checked:null})),document.getElementsByName("search")[0].value="",document.getElementsByName("group1").forEach(function(e){e.checked=!1})}},{key:"handleSelect",value:function(){var e=Object(H.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(Object(E.a)({},this.state,{selectedId:t.target.value.replace(/,/g,""),checked:t.currentTarget.id}));case 2:document.getElementById(this.state.checked).checked="checked";case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fileUpload",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("processId",this.state.selectedId),this.setState(Object(E.a)({},this.state,Object(_.a)({},t.target.name,t.target.files[0]))),n=[],e.next=6,pe.map(function(e){return n.push(e.nameInput)});case 6:return e.next=8,n.forEach(function(e){for(var t in i.state)t.match(e)&&a.append(e,i.state[t])});case 8:this.setState({form:a});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i,o=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.props.redux.processCollection.filter(function(e){return e._id.match(o.state.selectedId)})[0],n=this.props.redux.empCollection.filter(function(e){return e._id.match(a.empId)})[0],i=this.props.redux.rtCollection.filter(function(e){return e._id.match(a.rtId)})[0],T.a.post("/api/mail",{to:"sverissimo2@gmail.com, sandro.verissimo@agenciarmbh.mg.gov.br",subject:"Atualiza\xe7\xe3o do processo - Diretrizes Metropolitanas solicitadas",text:"O email \xe9 ".concat(n.email,", o do rt: ").concat(i.emailRt)}).then(function(e){return console.log(e)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"empDetails",value:function(e){this.setState({showEmpDetails:!0,showRtDetails:!1,empId:e.target.id})}},{key:"rtDetails",value:function(e){this.setState({showEmpDetails:!1,showRtDetails:!0,rtId:e.target.id})}},{key:"closeDetails",value:function(){this.setState({showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:""})}},{key:"render",value:function(){var e=this,t=this.state.dataMatch,a=this.props.redux.processCollection.filter(function(e){return"Processo cadastrado"===e.status}),n=this.state.searchValue.toLowerCase();return t=a&&n&&!this.state.checked?a.filter(function(e){return e.nomeEmpreendimento.toLowerCase().match(n)}):a&&(this.state.checked||this.state.checked&&n)?a.filter(function(t){return t._id.toLowerCase().match(e.state.selectedId)}):a,i.a.createElement("div",null,i.a.createElement(_e,{data:this.state,redux:this.props.redux,search:this.handleSearch.bind(this),searchArray:t,selectProcess:this.handleSelect.bind(this),submitFiles:this.handleSubmit.bind(this),setColor:this.props.redux.setColor,clear:this.clearSearch.bind(this),empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this)},pe.map(function(t,a){return i.a.createElement(Be,{object:t,key:a,upload:e.fileUpload.bind(e)})})),i.a.createElement(Oe,{empId:this.state.empId,rtId:this.state.rtId,showEmp:this.state.showEmpDetails,showRt:this.state.showRtDetails,close:this.closeDetails.bind(this),empCollection:this.props.redux.empCollection,rtCollection:this.props.redux.rtCollection}))}}]),t}(n.Component);var He=Object(c.b)(function(e){return{redux:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R,setColor:F},e)})(Ue),Ve=a(34),qe=a(33),Ge=a.n(qe),We=(a(180),a(97)),Je=a.n(We),Ye=a(98),Xe=a.n(Ye);function Ke(e,t,a){return function(){var n=Object(H.a)(U.a.mark(function n(i){return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.put("/api/editProcess/",{_id:t,item:Object(_.a)({},a,e)});case 2:i(R());case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}var Qe=function(e){var t,a=e.setColor,n=e.search,o=e.searchArray,r=e.selectProcess,l=e.submitFiles,s=e.data,c=e.redux,d=e.children,m=e.empDetails,u=e.rtDetails,p=e.showFiles;return s.selectedId&&(t=c.processCollection.filter(function(e){return e._id.match(s.selectedId)})),i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement(Q,{title:"Diretrizes Metropolitanas",subtitle:'Para a emiss\xe3o de diretrizes metropolitanas, selecione o processo, \r verifique os requisitos, fa\xe7a o upload da diretriz em pdf e clique em "Emitir Diretrizes".',color:a}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("label",null,"Filtrar"),i.a.createElement("input",{className:"input",type:"text",name:"search",onChange:n})),i.a.createElement("div",{className:"col s1 right",style:{paddingTop:"35px"}},i.a.createElement("i",{className:"material-icons"},"search"))),i.a.createElement("div",{className:"z-depth-3",style:{width:"100%",padding:"0px 10px 1px",borderRadius:"10px"}},i.a.createElement(ze,{search:o,collection:c.empCollection,rtCollection:c.rtCollection,processCollection:c.processCollection,onSelect:r,checked:s.checked,color:a,fields:[1,2,3,6,8,9,10],renderEmp:!0,renderRt:!0,empDetails:m,rtDetails:u,showFiles:p})),i.a.createElement("div",{className:"row",style:{marginTop:"15px"}},i.a.createElement("div",{className:"col s1 right"},i.a.createElement(G,{disabled:null===s.checked,icon:"clear",onClick:e.clear,showFiles:p}))),i.a.createElement("div",null,s.selectedId&&s.checked?i.a.createElement("div",null,i.a.createElement("fieldset",{style:{paddingBottom:"0px",marginBottom:"20px"}},i.a.createElement("legend",{style:{fontSize:"1.3rem"}},t[0].nomeEmpreendimento," - Diretrizes Metropolitanas"),d)):null,s.anexaDiretriz?i.a.createElement("button",{className:"btn teal darken-3 right",style:{marginBottom:"30px"},type:"submit",onClick:l},"Emitir Diretrizes Metropolitanas"):null))},Ze=function(e){var t=e.processCollection,a=e.selectedId,n=e.checkItem,o=e.change,r=e.dirStatus,l=e.anexaDiretriz,s=e.enviaPendencias,c=e.showCalendar,d=t.filter(function(e){return e._id.match(a)})[0];return i.a.createElement("div",{className:"row col s12",style:{padding:"10px",paddingLeft:"20px",paddingRight:"20px",margin:0}},i.a.createElement("form",{action:"#"},[["CGT","cgt","cgtOk"],["Vistoria","vistoria","vistoriaOk"],["Diretriz Municipal","dirMunOk","dirMunOk"],["Pagamento da DAE","daeOk","daeOk"]].map(function(e,t){return i.a.createElement("div",{className:"row",key:t},i.a.createElement("input",{type:"checkbox",id:e[2],onClick:n}),i.a.createElement("label",{htmlFor:e[2],style:{color:"black",fontWeight:500}},e[0]),function(e){return"cgt"===e[1]||"vistoria"===e[1]?d[e[1]]===e[0]+" n\xe3o agendada"?i.a.createElement("span",null,i.a.createElement("strong",null,": "),i.a.createElement("span",{id:e[1],onClick:c,style:{textDecoration:"underline",cursor:"pointer",color:"blue"}},"Agendar ","".concat(e[0]))):i.a.createElement("span",null,i.a.createElement("strong",null,": "),i.a.createElement("span",null,Te(d[e[1]]),i.a.createElement("span",{style:{cursor:"pointer"}}," ",i.a.createElement("i",{id:e[1],onClick:c,title:"Reagendar ".concat(e[0]),className:"material-icons"},"calendar_today"),"  "))):d[e[1]]}(e))}),!1===l?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12"},i.a.createElement("label",{htmlFor:"pendText"},"Registrar pend\xeancias"),i.a.createElement("textarea",{className:"materialize-textarea",id:"pendText",onChange:o,value:r.pendencias}),i.a.createElement("button",{className:"btn red right",style:{marginBottom:"10px"},onClick:s},"Enviar Pend\xeancias"))):i.a.createElement("div",null,i.a.createElement("label",{style:{fontSize:"16px",paddingTop:"15px",fontWeight:450,color:"black"}},"Anexar Diretriz Metropolitana"),i.a.createElement("div",{className:"row file-field input-field"},i.a.createElement("div",{className:"file-path-wrapper row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Carregar arquivo"})),i.a.createElement("div",{className:"col s1 right"},i.a.createElement("i",{className:"material-icons grey-text text-darken-1 small"},"attach_file"),i.a.createElement("input",{type:"file",name:"diretrizFile",onChange:e.upload})))))))},$e=function(e){var t,a=e.showFiles,n=e.close,o=e.processCollection,r=e.selectedId,l=e.filesCollection,s=o.filter(function(e){return e._id.match(r)});return l&&l[0]&&(t=l.filter(function(e){return e.metadata.processId.match(r)})),a&&s&&s[0]&&t&&t[0]?i.a.createElement("div",{className:"container z-depth-3",style:{position:"fixed",top:"25%",right:"15%",left:"15%",height:"50%",borderRadius:"15px",backgroundColor:"white",padding:"15px 0px 0px 30px",border:"1px solid #ddd",marginBottom:"25px",marginTop:"25px",overflowY:"auto",overflowX:"hidden",zIndex:1}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"row"},i.a.createElement("h5",null,i.a.createElement("img",{alt:"",src:"/images/folderIcon2.jpg",style:{paddingLeft:"20px",marginRight:"20px"}}),"Arquivos > ",s[0].nomeEmpreendimento)),i.a.createElement("hr",{style:{marginBottom:"5px"}}),i.a.createElement("div",{className:"row",style:{marginBottom:0}},i.a.createElement("div",{className:"col s6"},i.a.createElement("div",{className:"col s1"},i.a.createElement("img",{alt:"",src:"/images/multipleFiles2.png"})),i.a.createElement("div",{className:"col s11"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Arquivo"))),i.a.createElement("div",{className:"col s3"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Data de Upload")),i.a.createElement("div",{className:"col s3"},i.a.createElement("h6",{style:{fontSize:"1.2em",fontWeight:500}},"Tamanho"))),i.a.createElement("hr",{style:{margin:"0 0 20px 0"}}),t.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6"},i.a.createElement("div",{className:"col s1"},i.a.createElement("img",{alt:"",src:"/images/genericFile.png"})),i.a.createElement("div",{className:"col s11"},i.a.createElement("span",{id:e._id,style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:Re},ye(e.metadata.fieldName)))),i.a.createElement("div",{className:"col s3"},Te(e.uploadDate)),i.a.createElement("div",{className:"col s3"},Ie(e.length))))})),i.a.createElement("div",{style:{position:"absolute",top:"0.5%",right:"0.5%"}},i.a.createElement(X,{close:n}))):a&&s&&s[0]&&t&&!t[0]?i.a.createElement("div",{className:"card",style:{position:"fixed",top:"30%",right:"33%",left:"33%",backgroundColor:"white",paddingLeft:"20px",borderRadius:"15px",padding:"15px 0px 0px 30px",border:"1px solid #ddd",marginBottom:"25px",marginTop:"25px"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"row"},i.a.createElement("h5",null,"Arquivos > ",s[0].nomeEmpreendimento)),i.a.createElement("div",{className:"col s6"},"Nenhum arquivo encontrado")),i.a.createElement("div",{style:{position:"absolute",top:"0%",right:"0%"}},i.a.createElement(X,{close:n}))):null},et=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).state={searchValue:"",dataMatch:[],selectedId:"",checked:null,files:[],form:null,diretrizFile:"",showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:"",showFiles:!1,filesCollection:"",daeDir:"",anexaDiretriz:!1,m:Ge()(),cgtCalendar:!1,vistoriaCalendar:!1,dirStatus:{label:"Pend\xeancias na emiss\xe3o de Diretrizes",createdAt:"",cgtOk:!1,vistoriaOk:!1,daeOk:!1,dirMunOk:!1,pendencias:""}},e.setDate=function(t){e.state.cgtCalendar?e.setState({m:t._d,cgt:t._d}):e.setState({m:t._d,vistoria:t._d})},e.renderInput=function(e,t,a){return e.style={marginBottom:"0px",backgroundColor:"#F8F8FF",fontWeight:500},e.className="center-align",i.a.createElement("div",null,i.a.createElement("i",{className:"material-icons right",style:{cursor:"pointer",color:"red"},onClick:a},"close"),i.a.createElement("i",{className:"material-icons",style:{cursor:"pointer",color:"gold"},onClick:function(){e.onChange({target:{value:""}})}},"backspace"),i.a.createElement("input",Object.assign({className:"red"},e)))},e.escFunction=e.escFunction.bind(Object(Ve.a)(Object(Ve.a)(e))),e}return Object(w.a)(t,e),Object(S.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&((this.state.cgtCalendar||this.state.vistoriaCalendar)&&this.hideCalendar(),this.closeDetails())}},{key:"componentDidMount",value:function(){this.props.redux.empCollection[0]||this.props.loadEmpData(),this.props.redux.rtCollection[0]||this.props.loadRtData(),this.props.redux.processCollection[0]||this.props.loadProcessData(),this.props.redux.filesCollection[0]||this.props.loadFilesData(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"handleSearch",value:function(e){var t=this.state.dirStatus;t.cgtOk=!1,t.vistoriaOk=!1,t.dirMunOk=!1,t.daeOk=!1,this.setState(Object(E.a)({},this.state,{searchValue:e.target.value,checked:!1,anexaDiretriz:!1,dirStatus:t})),document.getElementsByName("group1").forEach(function(e){return e.checked=!1})}},{key:"clearSearch",value:function(e){var t=this.state.dirStatus;t.cgtOk=!1,t.vistoriaOk=!1,t.dirMunOk=!1,t.daeOk=!1,this.setState(Object(E.a)({},this.state,{searchValue:"",checked:null,dirStatus:t,anexaDiretriz:!1})),document.getElementsByName("search")[0].value="",document.getElementsByName("group1").forEach(function(e){e.checked=!1})}},{key:"handleSelect",value:function(){var e=Object(H.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(Object(E.a)({},this.state,{selectedId:t.target.value.replace(/,/g,""),checked:t.currentTarget.id}));case 2:document.getElementById(this.state.checked).checked="checked";case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fileUpload",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("processId",this.state.selectedId),e.next=4,this.setState(Object(E.a)({},this.state,Object(_.a)({},t.target.name,t.target.files[0])));case 4:return e.next=6,a.append("diretrizFile",this.state.diretrizFile);case 6:this.setState({form:a});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=[],e.next=4,T.a.post("/api/diretrizUpload",this.state.form).then(function(e){for(var t in e.data.file)a.push(e.data.file[t][0].fieldname,e.data.file[t][0].id,e.data.file[t][0].originalname,e.data.file[t][0].uploadDate,e.data.file[t][0].size,e.data.file[t][0].contentType)});case 4:return n={fieldName:a[0],id:a[1],originalName:a[2],uploadDate:a[3],fileSize:a[4],contentType:a[5]},e.next=7,T.a.put("/api/editProcess",{id:this.state.selectedId,status:"Diretrizes Metropolitanas emitidas",processHistory:{label:"Diretrizes Metropolitanas emitidas",createdAt:new Date,files:[n]}});case 7:window.location.reload();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"empDetails",value:function(e){this.setState({showEmpDetails:!0,showRtDetails:!1,empId:e.target.id})}},{key:"rtDetails",value:function(e){this.setState({showEmpDetails:!1,showRtDetails:!0,rtId:e.target.id})}},{key:"closeDetails",value:function(){this.setState({showEmpDetails:!1,showRtDetails:!1,showFiles:!1,empId:"",rtId:""})}},{key:"showFiles",value:function(e){this.setState({showFiles:!0,selectedId:e.target.id.replace(/z/g,"")})}},{key:"checkItem",value:function(e){var t=e.target.id,a=this.state.dirStatus;a[t]=!this.state.dirStatus[t];var n=a.cgtOk,i=a.vistoriaOk,o=a.daeOk,r=a.dirMunOk;!0===n&&!0===i&&!0===r&&!0===o?this.setState({anexaDiretriz:!0}):this.setState({anexaDiretriz:!1})}},{key:"handleChange",value:function(e){var t=e.target.value,a=this.state.dirStatus;a.pendencias=t,this.setState({dirStatus:a})}},{key:"enviaPendencias",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.dirStatus,e.next=4,T.a.put("/api/editProcess",{id:this.state.selectedId,status:"Processo cadastrado",processHistory:{label:"Pend\xeancias para emiss\xe3o de diretrizes",createdAt:new Date,pendencias:a.pendencias,dirCheckList:{cgtOk:a.cgtOk,vistoriaOk:a.vistoriaOk,daeOk:a.daeOk,dirMunOk:a.dirMunOk}}});case 4:window.location.reload();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"showCalendar",value:function(e){this.setState(Object(E.a)({},this.state,Object(_.a)({},"".concat(e.target.id,"Calendar"),!0)))}},{key:"hideCalendar",value:function(e){var t;t=this.state.cgtCalendar?"cgt":"vistoria",this.setState(Object(E.a)({},this.state,Object(_.a)({},"".concat(t,"Calendar"),!1))),this.props.setDate(this.state.m,this.state.selectedId,t)}},{key:"render",value:function(){var e=this,t=this.state.dataMatch,a=this.state.searchValue.toLowerCase(),n=this.props.redux.processCollection.filter(function(e){return"Aguardando Diretrizes Metropolitanas"===e.status});return t=a&&!this.state.checked?n.filter(function(e){return e.nomeEmpreendimento.toLowerCase().match(a)}):this.state.checked||this.state.checked&&a?n.filter(function(t){return t._id.toLowerCase().match(e.state.selectedId)}):n,i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(Qe,{data:this.state,redux:this.props.redux,search:function(t){return e.handleSearch(t)},searchArray:t,selectProcess:this.handleSelect.bind(this),submitFiles:this.handleSubmit.bind(this),setColor:this.props.redux.setColor,clear:this.clearSearch.bind(this),empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this),showFiles:this.showFiles.bind(this)},i.a.createElement(Ze,{selectedId:this.state.selectedId,showFiles:this.state.showFiles,checkItem:this.checkItem.bind(this),close:this.closeDetails.bind(this),processCollection:this.props.redux.processCollection,filesCollection:this.props.redux.filesCollection,upload:this.fileUpload.bind(this),dirStatus:this.state.dirStatus,change:this.handleChange.bind(this),enviaPendencias:this.enviaPendencias.bind(this),anexaDiretriz:this.state.anexaDiretriz,showCalendar:this.showCalendar.bind(this),cgtCalendar:this.state.cgtCalendar,vistoriaCalendar:this.state.vistoriaCalendar})),this.state.cgtCalendar||this.state.vistoriaCalendar?i.a.createElement("div",{style:{position:"fixed",top:"33%",right:"43%",width:"253px",border:"2px solid #ddd",backgroundColor:"white"}},i.a.createElement(Je.a,{renderInput:this.renderInput,className:Xe.a,input:!0,open:!0,inputProps:{readOnly:!0},value:this.state.m,onChange:this.setDate.bind(this),onBlur:this.hideCalendar.bind(this)})):void 0,i.a.createElement(Oe,{empId:this.state.empId,rtId:this.state.rtId,showEmp:this.state.showEmpDetails,showRt:this.state.showRtDetails,close:this.closeDetails.bind(this),empCollection:this.props.redux.empCollection,rtCollection:this.props.redux.rtCollection})),i.a.createElement("div",null,i.a.createElement($e,{selectedId:this.state.selectedId,showFiles:this.state.showFiles,close:this.closeDetails.bind(this),processCollection:this.props.redux.processCollection,filesCollection:this.props.redux.filesCollection})),"}")}}]),t}(n.Component);var tt=Object(c.b)(function(e){return{redux:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R,loadFilesData:j,setColor:F,setDate:Ke},e)})(et),at=function(e){var t,a=e.setColor,n=e.search,o=e.searchArray,r=e.selectProcess,l=e.submitFiles,s=e.data,c=e.redux,d=e.children,m=e.empDetails,u=e.rtDetails,p=e.showFiles;return s.selectedId&&(t=c.processCollection.filter(function(e){return e._id.match(s.selectedId)})),i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement(Q,{title:"Solicitar Anu\xeancia Pr\xe9via",subtitle:'Para solicitar anu\xeancia pr\xe9via, selecione o processo, fa\xe7a o upload dos documentos \r e projetos e clique em "Solicitar Anu\xeancia".',color:a}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("label",null,"Filtrar"),i.a.createElement("input",{className:"input",type:"text",name:"search",onChange:n})),i.a.createElement("div",{className:"col s1 right",style:{paddingTop:"35px"}},i.a.createElement("i",{className:"material-icons"},"search"))),i.a.createElement("div",{className:"z-depth-3",style:{padding:"0px 10px 1px",borderRadius:"10px"}},i.a.createElement(ze,{search:o,collection:c.empCollection,rtCollection:c.rtCollection,onSelect:r,checked:s.checked,color:a,fields:[1,2,3,4,5,6,7],renderEmp:!0,renderRt:!0,empDetails:m,rtDetails:u,showFiles:p})),i.a.createElement("div",{className:"row",style:{marginTop:"15px"}},i.a.createElement("div",{className:"col s1 right"},i.a.createElement(G,{disabled:null===s.checked,icon:"clear",onClick:e.clear}))),i.a.createElement("div",null,s.selectedId&&s.checked?i.a.createElement("div",null,i.a.createElement("fieldset",null,i.a.createElement("legend",{style:{fontSize:"1.3rem"}},t[0].nomeEmpreendimento," - Documentos para solicita\xe7\xe3o de anu\xeancia pr\xe9via"),i.a.createElement("div",{className:"row"},d[0])),i.a.createElement("fieldset",null,i.a.createElement("legend",{style:{fontSize:"1.3rem"}},t[0].nomeEmpreendimento," - Projetos para solicita\xe7\xe3o de anu\xeancia pr\xe9via"),i.a.createElement("div",{className:"row"},d[1])),i.a.createElement("button",{className:"btn teal darken-3 right",style:{marginBottom:"20px"},onClick:l},"Solicitar Anu\xeancia")):null))},nt=function(e){return i.a.createElement("div",{style:{padding:"10px",paddingLeft:"20px",paddingRight:"20px",margin:0}},i.a.createElement("label",{style:{fontSize:"16px",paddingTop:"15px",fontWeight:450,color:"black"}},e.object.label),i.a.createElement("div",{className:"file-field input-field",key:e.object.nameInput},i.a.createElement("div",{className:"file-path-wrapper"},i.a.createElement("div",{className:"col s11"},i.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Carregar arquivo"})),i.a.createElement("div",{className:"col s1 right"},i.a.createElement("i",{className:"material-icons grey-text text-darken-1 small"},"attach_file"),i.a.createElement("input",{type:"file",name:e.object.nameInput,onChange:e.upload})))))},it=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).state={searchValue:"",dataMatch:[],selectedId:"",checked:null,files:[],form:null,showEmpDetails:!1,showRtDetails:!1,showFiles:!1,empId:"",rtId:"",regImovel:"",CNDMun:"",empRG:"",art:"",decConform:"",daeAnuencia:"",memDescritivo:"",memDescTp:"",cemig:"",dtbCopasa:"",licAmbental:"",levPlan:"",projUrb:"",mapaIso:"",projTer:"",projDren:"",projDesmemb:""},e.escFunction=function(t){27===t.keyCode&&e.closeDetails()},e}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.redux.empCollection[0]||this.props.loadEmpData(),this.props.redux.processCollection[0]||this.props.loadProcessData(),this.props.redux.rtCollection[0]||this.props.loadRtData(),this.props.redux.filesCollection[0]||this.props.loadFilesData(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"handleSearch",value:function(e){this.setState(Object(E.a)({},this.state,{searchValue:e.target.value,checked:!1})),document.getElementsByName("group1").forEach(function(e){return e.checked=!1})}},{key:"clearSearch",value:function(e){this.setState(Object(E.a)({},this.state,{searchValue:"",checked:null})),document.getElementsByName("search")[0].value="",document.getElementsByName("group1").forEach(function(e){e.checked=!1})}},{key:"handleSelect",value:function(){var e=Object(H.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(Object(E.a)({},this.state,{selectedId:t.target.value.replace(/,/g,""),checked:t.currentTarget.id}));case 2:document.getElementById(this.state.checked).checked="checked";case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fileUpload",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i,o=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("processId",this.state.selectedId),this.setState(Object(E.a)({},this.state,Object(_.a)({},t.target.name,t.target.files[0]))),n=[],(i=ve.concat(fe)).push({nameInput:"projDesmemb",label:"Projeto de Desmembramento",tooltip:"Planta de localiza\xe7\xe3o com delimita\xe7\xe3o da \xe1rea em an\xe1lise e indica\xe7\xe3o do per\xedmetro urbano, em escala de 1:10000"}),e.next=8,i.map(function(e){return n.push(e.nameInput)});case 8:return e.next=10,n.forEach(function(e){for(var t in o.state)t.match(e)&&a.append(e,o.state[t])});case 10:this.setState({form:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i,o,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.redux.processCollection,n=this.state.selectedId,i=function(){var e=[];a.length>0&&(e=a.filter(function(e){return e._id.match(n)})[0].processHistory.filter(function(e){return e.label}));var t=e.filter(function(e){return e.label.match("An\xe1lise")}).length;if(0===t){return"Anu\xeancia pr\xe9via solicitada"}return"Entrada "+(t+1)},o=[],e.next=7,T.a.post("/api/solAnuenciaUpload",this.state.form).then(function(e){for(var t in e.data.file)o.push({fieldName:e.data.file[t][0].fieldname,id:e.data.file[t][0].id,originalName:e.data.file[t][0].originalname,uploadDate:e.data.file[t][0].uploadDate,contentType:e.data.file[t][0].contentType,fileSize:e.data.file[t][0].size})});case 7:return r=i(),e.next=10,T.a.put("/api/editProcess",{id:this.state.selectedId,status:"Aguardando An\xe1lise",processHistory:{label:r,createdAt:new Date,files:o}});case 10:window.location.reload();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"empDetails",value:function(e){this.setState({showEmpDetails:!0,showRtDetails:!1,empId:e.target.id})}},{key:"rtDetails",value:function(e){this.setState({showEmpDetails:!1,showRtDetails:!0,rtId:e.target.id})}},{key:"closeDetails",value:function(){this.setState({showEmpDetails:!1,showRtDetails:!1,showFiles:!1,empId:"",rtId:""})}},{key:"showFiles",value:function(e){this.setState({showFiles:!0,selectedId:e.target.id.replace(/z/g,"")})}},{key:"render",value:function(){var e,t,a=this,n=this.state,o=n.dataMatch,r=n.selectedId,l=n.checked,s=this.props.redux.processCollection,c=this.state.searchValue.toLowerCase(),d=s.filter(function(e){return"Diretrizes Metropolitanas emitidas"===e.status||e.status.match("Pend\xeancias")||"Aguardando documenta\xe7\xe3o"===e.status});o=c&&!l?d.filter(function(e){return e.nomeEmpreendimento.toLowerCase().match(c)}):l||l&&c?d.filter(function(e){return e._id.toLowerCase().match(r)}):d;var m=[],u=[];return r&&(t=(e=s.filter(function(e){return e._id.match(r)}))[0].status),!e||"Loteamento"!==e[0].modalidade||"Diretrizes Metropolitanas emitidas"!==t&&"Pend\xeancias"!==t?!e||"Desmembramento"!==e[0].modalidade||"Aguardando documenta\xe7\xe3o"!==t&&"Pend\xeancias"!==t||(m=be,u=ge):(m=ve,u=fe),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(at,{data:this.state,redux:this.props.redux,search:function(e){return a.handleSearch(e)},searchArray:o,selectProcess:this.handleSelect.bind(this),submitFiles:this.handleSubmit.bind(this),setColor:this.props.redux.setColor,clear:this.clearSearch.bind(this),empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this),array:ve,array2:fe,showFiles:this.showFiles.bind(this)},m.map(function(e,t){return i.a.createElement("div",{className:"col s6",key:t},i.a.createElement(nt,{object:e,key:t,upload:a.fileUpload.bind(a)}))}),i.a.createElement("div",{className:"row"},u.map(function(e,t){return i.a.createElement("div",{className:"col s6",key:t},i.a.createElement(nt,{object:e,key:t,upload:a.fileUpload.bind(a)}))}))),i.a.createElement($e,{selectedId:r,showFiles:this.state.showFiles,close:this.closeDetails.bind(this),processCollection:s,filesCollection:this.props.redux.filesCollection}),i.a.createElement(Oe,{empId:this.state.empId,rtId:this.state.rtId,showEmp:this.state.showEmpDetails,showRt:this.state.showRtDetails,close:this.closeDetails.bind(this),empCollection:this.props.redux.empCollection,rtCollection:this.props.redux.rtCollection})))}}]),t}(n.Component);var ot=Object(c.b)(function(e){return{redux:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R,loadFilesData:j,setColor:F},e)})(it),rt=function(e){var t=e.setColor,a=e.search,n=e.searchArray,o=e.selectProcess,r=e.data,l=e.redux,s=e.empDetails,c=e.rtDetails,d=e.showFiles;return r.selectedId&&l.processCollection.filter(function(e){return e._id.match(r.selectedId)})[0],i.a.createElement("div",{className:"container",style:{width:"95%"}},i.a.createElement(Q,{title:"Analisar Processo",subtitle:"Selecione o processo para analisar, registrar pend\xeancias ou emitir anu\xeancia pr\xe9via.",color:t}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("label",null,"Filtrar"),i.a.createElement("input",{className:"input",type:"text",name:"search",onChange:a,value:r.searchValue})),i.a.createElement("div",{className:"col s1 right",style:{paddingTop:"35px"}},i.a.createElement("i",{className:"material-icons"},"search"))),i.a.createElement("div",{className:"z-depth-3",style:{width:"100%",padding:"0px 10px 1px",borderRadius:"10px"}},i.a.createElement(ze,{search:n,collection:l.empCollection,rtCollection:l.rtCollection,processCollection:l.processCollection,onSelect:o,checked:r.checked,color:t,fields:[1,2,3,4,5,6,8],renderEmp:!0,renderRt:!0,empDetails:s,rtDetails:c,showFiles:d})),i.a.createElement("div",{className:"row",style:{marginTop:"15px"}},r.selectedId?null:i.a.createElement("div",{className:"col s1 right"},i.a.createElement(G,{disabled:null===r.checked,icon:"clear",onClick:e.clear}))))},lt=[{name:"FileExplorer",img:"/images/search_documents4.png",label:"Ver arquivos",divStyle:{minHeight:"8vh",border:"1px solid #ddd",borderRadius:"2%",borderBottom:""}},{name:"Pendencias",img:"/images/pendencias.png",label:"Registrar Pend\xeancias",divStyle:{minHeight:"8vh",border:"1px solid #ddd",borderRadius:"2%",borderBottom:"1px solid #a88"}},{name:"Anuencia",img:"/images/emitir_anuencia3.png",label:"Emitir Anu\xeancia",divStyle:{minHeight:"8vh",border:"1px solid #ddd",borderRadius:"2%",borderBottom:""}},{name:"ProcessInfo",img:"/images/process_info3.png",label:"Informa\xe7\xf5es do Processo",divStyle:{minHeight:"8vh",border:"1px solid #ddd",borderRadius:"2%",borderBottom:""}}],st=function(e){var t=e.process.processHistory.filter(function(e){return e.files});return i.a.createElement("div",{style:{height:"100%",overflowY:"auto",overflowX:"hidden"}},t.map(function(e,t){return i.a.createElement("div",{style:{border:"1px solid #ddd",paddingLeft:"2%"},key:t+1e3},i.a.createElement("div",{className:"row",align:"center"},i.a.createElement("h5",null,e.label," em ",Te(e.createdAt))),i.a.createElement("div",{className:"row"},e.files.map(function(e,t){return i.a.createElement("div",{className:"row",key:t+100},i.a.createElement("div",{className:"col s5"},ye(e.fieldName)),i.a.createElement("div",{className:"col s4"},i.a.createElement("span",{id:e.id,key:t,style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:Re},e.originalName)),i.a.createElement("div",{className:"col s3"},Ie(e.fileSize)))})))}))},ct=function(e){var t=e.upload,a=e.submitFiles;return i.a.createElement("div",{style:{paddingLeft:"10%",marginBottom:"10%"}},i.a.createElement("h5",null,"Emitir Anu\xeancia Pr\xe9via"),[{label:"Anexar Nota T\xe9cnica",inputName:"notaTecnica"},{label:"Anexar Certid\xe3o de Anu\xeancia Pr\xe9via",inputName:"anuenciaFile"}].map(function(e,a){return i.a.createElement("div",{style:{marginTop:"10%"},key:a},i.a.createElement("label",{style:{fontSize:"16px",paddingTop:"15px",fontWeight:450,color:"black"}},e.label),i.a.createElement("div",{className:"row file-field input-field",key:e.inputName},i.a.createElement("div",{className:"file-path-wrapper row"},i.a.createElement("div",{className:"col s11"},i.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Carregar arquivo"})),i.a.createElement("div",{className:"col s1 right"},i.a.createElement("i",{className:"material-icons grey-text text-darken-1 small"},"attach_file"),i.a.createElement("input",{type:"file",name:e.inputName,onChange:t})))))}),i.a.createElement("button",{className:"btn teal darken-3 right",style:{margin:"4% 3% 0 0"},type:"submit",onClick:a},"Emitir Anu\xeancia Pr\xe9via"))},dt=a(99),mt=a.n(dt),ut=(a(286),a(100)),pt=function(e){var t=e.empreend,a=e.process;var n=ut.filter(function(e){return e.municipio.toLowerCase().match(a.munEmpreendimento.toLowerCase())})[0],o={lineHeight:.8};return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("img",{className:"col s12",src:"/images/governo_header2.jpg",style:{paddingRight:"20px"},alt:""})),i.a.createElement("p",{className:"oficioHeader"},i.a.createElement("strong",null,"OF. N\xba \xa0\xa0\xa0 / ",(new Date).getFullYear(),"-Ag\xeancia RMBH.DR"),i.a.createElement("span",{className:"right"},"Belo Horizonte, ",function(){var e=new Date;return"".concat(e.getDate()," de ").concat(["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"][e.getMonth()]," de ").concat(e.getFullYear())}(),".")),i.a.createElement("br",null),i.a.createElement("p",{className:"ql-align-justify",style:o}," ",n.vocativo1," "),i.a.createElement("p",{className:"ql-align-justify",style:o}," ",i.a.createElement("strong",null,n.nome)," "),i.a.createElement("p",{className:"ql-align-justify",style:o},n.cargo),i.a.createElement("p",{className:"ql-align-justify",style:o},"Prefeitura de ",a.munEmpreendimento),i.a.createElement("p",{className:"ql-align-justify",style:o},n.endereco),i.a.createElement("p",{className:"ql-align-justify",style:o},"CEP: ",n.cep," \u2013 ",a.munEmpreendimento,", MG"),i.a.createElement("p",null),i.a.createElement("p",{className:"ql-align-justify"},i.a.createElement("strong",null,"Assunto:"),' Empreendimento "',a.nomeEmpreendimento,'", Processo RMBH n\xba ',a.nProcess," "),i.a.createElement("p",null),i.a.createElement("p",{className:"ql-align-justify"},n.vocativo2,", "),i.a.createElement("p",{className:"ql-align-justify"},"Em resposta ao of\xedcio da Prefeitura Municipal de ",a.munEmpreendimento,", que solicita an\xe1lise e emiss\xe3o de Selo de Anu\xeancia Pr\xe9via para o ",a.modalidade," de uma \xe1rea de ",a.area,"m\xb2, situado no lugar denominado ",i.a.createElement("strong",null,a.nomeEmpreendimento),", de interesse de",i.a.createElement("strong",null," ",t.nome),", informamos que:"),i.a.createElement("p",null))},ht=function(e){var t=e.mostrarOficio,a=e.content,n=e.redux,o=e.process,r=e.empreend,l=e.rt;return t?i.a.createElement("div",{id:"oficio",className:"z-depth-3",style:{position:"relative",borderRadius:"15px",width:"100%",backgroundColor:"white",padding:"15px 0px 0px 30px",border:"1px solid #ddd",marginBottom:"25px"}},i.a.createElement(pt,{redux:n,process:o,empreend:r,rt:l}),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),i.a.createElement("center",null,i.a.createElement("strong",null,i.a.createElement("p",null,"T\xe9cnico Respons\xe1vel")),i.a.createElement("p",null,"CAU 1234567890"))):null},Et={toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},vt=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(i)))).state={color:"",text:"",mostrarOficio:!1,oficio:""},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.cadastro.empCollection[0]||this.props.loadEmpData(),this.props.cadastro.rtCollection[0]||this.props.loadRtData(),this.props.cadastro.processCollection[0]||this.props.loadProcessData();var e=document.getElementById("setcolor").style.backgroundColor;this.setState({setColor:e})}},{key:"handleChange",value:function(e){this.setState(Object(E.a)({},this.state,{text:e}))}},{key:"savePdf",value:function(){this.setState({mostrarOficio:!0})}},{key:"enviaPendencias",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.process.processHistory.filter(function(e){return e.label.match("An\xe1lise")}),n="An\xe1lise ".concat(a.length+1),i=document.getElementById("oficio").outerHTML,this.setState({oficio:i}),e.next=7,T.a.put("/api/editProcess",{id:this.props.process._id,status:"Pend\xeancias",processHistory:{label:n,createdAt:new Date,pendencias:i}});case 7:window.location.reload();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.empreend,n=t.rt,o=t.process,r=function(){return!e.state.mostrarOficio&&"disabled"};return i.a.createElement("div",{style:{height:"100%"}},i.a.createElement(mt.a,{value:this.state.text,onChange:this.handleChange.bind(this),modules:Et,theme:"snow",style:{background:"#fff",height:"50vh",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"1%",overflow:"hidden"}}),i.a.createElement(ht,{mostrarOficio:this.state.mostrarOficio,content:this.state.text,oficio:this.state.oficio,process:o,empreend:a,rt:n}),i.a.createElement("button",{className:"btn right",onClick:this.enviaPendencias.bind(this),disabled:r()}," Enviar "),i.a.createElement("button",{style:{marginRight:"10px"},className:"btn right",onClick:this.savePdf.bind(this),disabled:!r()}," Pr\xe9-visualizar "))}}]),t}(n.Component),ft=Object(c.b)(function(e){return{cadastro:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R},e)})(vt),bt=function(e){var t=e.redux,a=e.clear,n=e.data,o=e.selectedOption,r=e.optionSelect,l=e.process,s=e.empreend,c=e.rt,d=e.divConfig,m=e.changeValue,u=e.showLog,p=e.clearLog,h=e.log,E=e.close,v=e.upload,f=e.submit;return i.a.createElement("div",{className:"container",style:{width:"90%"}},i.a.createElement("div",null,i.a.createElement("div",{className:"row",align:"center",style:{border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#efefef",fontSize:"1.2rem",fontFamily:"calibri",marginTop:"15px"}},i.a.createElement("h4",null,l.nomeEmpreendimento),i.a.createElement("div",{className:"row col s12"},i.a.createElement("div",{className:"col s12 m6 l4"},i.a.createElement("b",null,"Munic\xedpio:"),"  ",l.munEmpreendimento),i.a.createElement("div",{className:"col s12 m6 l4"},i.a.createElement("b",null,"Modalidade:")," ",l.modalidade),i.a.createElement("div",{className:"col s12 m6 l4"},i.a.createElement("b",null,"\xc1rea:")," ",l.area),i.a.createElement("div",{className:"col s12 m6 l4"},i.a.createElement("b",null," Empreendedor: ")," ",s.nome),i.a.createElement("div",{className:"col s12 m6 l4"},i.a.createElement("b",null,"RT: "),c.nomeRt),i.a.createElement("div",{className:"col s12 m6 l4"},l.status))),i.a.createElement("div",{className:"row",style:{marginBottom:0,cursor:"pointer"}},lt.map(function(e,t){return i.a.createElement("div",{id:e.name,key:t,align:"center",className:"col s12 m6 l3 ".concat(d(e).class),style:d(e).stylez,onClick:r},i.a.createElement("img",{id:e.name,className:"center-align",src:e.img,style:{margin:"10px 10px 0px 10px",cursor:"pointer"},height:"40",alt:""}),i.a.createElement("h6",{id:e.name,style:{cursor:"pointer",fontWeight:550}},e.label))})),i.a.createElement("div",{style:{minHeight:"50vh",border:"1px solid #ddd",borderRadius:"2%",marginBottom:"2%"}},""===o?i.a.createElement("div",{className:"col push-s4",style:{paddingTop:"20%"}},i.a.createElement("h5",null,"Selecione uma das op\xe7oes acima.")):i.a.createElement("div",{className:"col s12",style:{height:"100%"}},function(e){switch(e){case"FileExplorer":return i.a.createElement(st,{selectedId:n.selectedId,showFiles:n.showFiles,close:E,processCollection:t.processCollection,filesCollection:t.filesCollection,process:l});case"Pendencias":return i.a.createElement(ft,{process:l,empreend:s,rt:c,value:n.analiseProc.pendencias,changeValue:m});case"Anuencia":return i.a.createElement(ct,{upload:v,submitFiles:f});case"ProcessInfo":return i.a.createElement(Fe,{process:l,showLog:u,logDetails:h.logDetails,index:h.logIndex,clearLog:p});default:console.log("invalid option, dude!")}}(o))),h.logDetails&&"ProcessInfo"===o?null:i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s1 left"},i.a.createElement(G,{disabled:null===n.checked,icon:"arrow_back",onClick:a})," Voltar"))))},gt=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(i)))).state={selectedOption:"",selectedId:"",logDetails:!1,logIndex:"",notaTecnica:"",anuenciaFile:"",form:""},a}return Object(w.a)(t,e),Object(S.a)(t,[{key:"optionSelect",value:function(e){this.setState({selectedOption:e.target.id})}},{key:"componentDidMount",value:function(){this.setState({selectedId:this.props.data.selectedId})}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"divConfig",value:function(e){if(e.name!==this.state.selectedOption){return{stylez:{minHeight:"8vh",border:"1px solid #ddd",borderRadius:"2%",borderBottom:"",borderTopLeftRadius:"15%",borderTopRightRadius:"15%"},class:"col s12 m6 l3 z-depth-2"}}return{stylez:{minHeight:"8vh",border:"2px solid #bbb",borderRadius:"2%",borderBottom:"",borderTopLeftRadius:"15%",borderTopRightRadius:"15%",backgroundColor:"#fcfcfc"},class:"col s12 m6 l3"}}},{key:"showLog",value:function(e){this.setState({logIndex:e.target.id,logDetails:!0})}},{key:"clearLog",value:function(){this.setState({logDetails:!1,logIndex:""})}},{key:"fileUpload",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a,n,i=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=["notaTecnica","anuenciaFile"],(n=new FormData).append("processId",this.state.selectedId),e.next=5,this.setState(Object(E.a)({},this.state,Object(_.a)({},t.target.name,t.target.files[0])));case 5:return e.next=7,a.forEach(function(e){for(var t in i.state)t.match(e)&&n.append(e,i.state[t])});case 7:this.setState({form:n});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(H.a)(U.a.mark(function e(t){var a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=[],this.state.notaTecnica&&this.state.anuenciaFile){e.next=6;break}alert("Favor anexar a nota t\xe9cnica e a certid\xe3o de anu\xeancia"),e.next=11;break;case 6:return e.next=8,T.a.post("/api/anuenciaUpload",this.state.form).then(function(e){for(var t in e.data.file)a.push({fieldName:e.data.file[t][0].fieldname,id:e.data.file[t][0].id,originalName:e.data.file[t][0].originalname,uploadDate:e.data.file[t][0].uploadDate,contentType:e.data.file[t][0].contentType,fileSize:e.data.file[t][0].size})});case 8:return e.next=10,T.a.put("/api/editProcess",{id:this.state.selectedId,status:"Processo Anu\xeddo",processHistory:{label:"Processo Anu\xeddo",createdAt:new Date,files:a}});case 10:window.location.reload();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n=this.props,o=n.clear,r=n.data,l=n.redux,s=n.close,c=n.changeValue;if(r.selectedId&&(e=l.processCollection.filter(function(e){return e._id.match(r.selectedId)})[0])&&(t=l.empCollection.filter(function(t){return t._id.match(e.empId)})[0],a=l.rtCollection.filter(function(t){return t._id.match(e.rtId)})[0]),r.selectedId)return r.showFiles=!0,i.a.createElement("div",{className:"container"},i.a.createElement(bt,{data:r,redux:l,clear:o,close:s,process:e,empreend:t,rt:a,match:this.props.match,optionSelect:this.optionSelect.bind(this),selectedOption:this.state.selectedOption,divConfig:this.divConfig.bind(this),changeValue:c,log:this.state,showLog:this.showLog.bind(this),clearLog:this.clearLog.bind(this),upload:this.fileUpload.bind(this),submit:this.handleSubmit.bind(this)}))}}]),t}(n.Component),Ct=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(D.a)(this,Object(x.a)(t).call(this))).state={searchValue:"",dataMatch:[],selectedId:"",checked:null,files:[],form:null,diretrizFile:"",showEmpDetails:!1,showRtDetails:!1,empId:"",rtId:"",showFiles:!1,filesCollection:"",analiseProc:{createdAt:"",pendencias:""}},e.escFunction=function(t){e.state.checked||27!==t.keyCode||e.closeDetails()},e}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.redux.empCollection[0]||this.props.loadEmpData(),this.props.redux.rtCollection[0]||this.props.loadRtData(),this.props.redux.processCollection[0]||this.props.loadProcessData(),this.props.redux.filesCollection[0]||this.props.loadFilesData(),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"handleSearch",value:function(e){this.setState(Object(E.a)({},this.state,{searchValue:e.target.value,checked:!1}))}},{key:"clearSearch",value:function(e){this.setState(Object(E.a)({},this.state,{checked:null,selectedId:null,searchValue:"",showFiles:null}))}},{key:"handleSelect",value:function(e){this.setState(Object(E.a)({},this.state,{selectedId:e.target.value.replace(/,/g,""),checked:e.currentTarget.id}))}},{key:"empDetails",value:function(e){this.setState({showEmpDetails:!0,showRtDetails:!1,empId:e.target.id})}},{key:"rtDetails",value:function(e){this.setState({showEmpDetails:!1,showRtDetails:!0,rtId:e.target.id})}},{key:"closeDetails",value:function(){this.setState({selectedId:null,showEmpDetails:!1,showRtDetails:!1,showFiles:!1,empId:"",rtId:""})}},{key:"showFiles",value:function(e){this.setState({showFiles:!0,selectedId:e.target.id.replace(/z/g,"")})}},{key:"handleChange",value:function(e){var t=e,a=this.state.analiseProc;a.pendencias=t,a.createdAt=new Date,this.setState({analiseProc:a})}},{key:"enviaPendencias",value:function(e){var t=this.state.analiseProc;t.createdAt=new Date,T.a.put("api/pendencias",{id:this.state.selectedId,pendencias:t}).then(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.dataMatch,a=this.state.searchValue.toLowerCase(),n=this.props.redux.processCollection.filter(function(e){return"Aguardando An\xe1lise"===e.status});return n.sort(function(e,t){var a=new Date(e.updatedAt),n=new Date(t.updatedAt);return a&&n?n.getTime()>a.getTime()?1:a.getTime()>n.getTime()?-1:0:null}),t=a&&!this.state.checked?n.filter(function(e){return e.nomeEmpreendimento.toLowerCase().match(a)}):this.state.checked||this.state.checked&&a?n.filter(function(t){return t._id.toLowerCase().match(e.state.selectedId)}):n,i.a.createElement("div",null,i.a.createElement("div",null,this.state.selectedId?this.state.showFiles?i.a.createElement(rt,{data:this.state,redux:this.props.redux,search:function(t){return e.handleSearch(t)},searchArray:t,selectProcess:this.handleSelect.bind(this),setColor:this.props.redux.setColor,clear:this.clearSearch.bind(this),empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this),showFiles:this.showFiles.bind(this)}):i.a.createElement("div",null,i.a.createElement(gt,{data:this.state,redux:this.props.redux,clear:this.clearSearch.bind(this),close:this.closeDetails.bind(this),match:this.props.match,changeValue:this.handleChange.bind(this),showFiles:this.state.showFiles})):i.a.createElement(rt,{data:this.state,redux:this.props.redux,search:function(t){return e.handleSearch(t)},searchArray:t,selectProcess:this.handleSelect.bind(this),setColor:this.props.redux.setColor,clear:this.clearSearch.bind(this),empDetails:this.empDetails.bind(this),rtDetails:this.rtDetails.bind(this),showFiles:this.showFiles.bind(this)}),i.a.createElement(Oe,{empId:this.state.empId,rtId:this.state.rtId,showEmp:this.state.showEmpDetails,showRt:this.state.showRtDetails,close:this.closeDetails.bind(this),empCollection:this.props.redux.empCollection,rtCollection:this.props.redux.rtCollection})),i.a.createElement("div",null,i.a.createElement($e,{selectedId:this.state.selectedId,showFiles:this.state.showFiles,close:this.closeDetails.bind(this),processCollection:this.props.redux.processCollection,filesCollection:this.props.redux.filesCollection})),"}")}}]),t}(n.Component);var yt=Object(c.b)(function(e){return{redux:e.cadastro}},function(e){return Object(s.b)({loadEmpData:I,loadRtData:A,loadProcessData:R,loadFilesData:j},e)})(Ct),Nt=function(){return i.a.createElement(y.a,null,i.a.createElement(N.a,{path:"/",exact:!0,component:z}),i.a.createElement(N.a,{path:"/cadastro",component:oe}),i.a.createElement(N.a,{path:"/solicitaDiretriz",component:He}),i.a.createElement(N.a,{path:"/diretrizes",component:tt}),i.a.createElement(N.a,{path:"/solicitaAnuencia",component:ot}),i.a.createElement(N.a,{path:"/showEmpreend",component:Le}),i.a.createElement(N.a,{path:"/editData",component:xe}),i.a.createElement(N.a,{path:"/Anuencia",exact:!0,component:yt}))},Ot=(a(288),function(e){var t=e.item,a=e.process;if(a&&a.length>0){var n=a.filter(function(e){return e.status.match(t)}).length;return"Diretrizes Metropolitanas emitidas"===t&&(n+=a.filter(function(e){return e.status.match("Pend\xeancias")}).length+a.filter(function(e){return e.status.match("Aguardando documenta\xe7\xe3o")}).length),i.a.createElement("div",{style:{display:"inline-block"}},n>0?i.a.createElement("sup",{style:{fontSize:"0.9em",borderRadius:"50%",padding:"0px 5px",backgroundColor:"red",fontWeight:"900"}},n):0===n?i.a.createElement("sup",null," "):null)}return null}),St=function(e){function t(){return Object(O.a)(this,t),Object(D.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){this.props.setColor()}},{key:"render",value:function(){var e=this.props,t=e.process,a=e.color;return i.a.createElement("nav",null,i.a.createElement("div",{className:"nav-wrapper",style:{paddingLeft:30,paddingRight:30,backgroundColor:a},id:"setcolor"},i.a.createElement(P.a,{to:"/",className:"brand-logo"},i.a.createElement("i",{className:"material-icons",style:{fontSize:"30px"}},"home")),i.a.createElement(P.a,{to:"","data-activates":"mobile-demo",className:"button-collapse"},i.a.createElement("i",{className:"material-icons"},"menu")),i.a.createElement("ul",{className:"right hide-on-med-and-down"},i.a.createElement("li",null,i.a.createElement(P.a,{to:"/cadastro"},"Cadastro")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/solicitaDiretriz"},"Solicitar Diretrizes Metropolitanas ",i.a.createElement(Ot,{process:t,item:"Processo cadastrado"}))),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/diretrizes"},"Diretrizes Metropolitanas ",i.a.createElement(Ot,{process:t,item:"Aguardando Diretrizes Metropolitanas"}))),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/solicitaAnuencia"},"Solicitar Anu\xeancia Pr\xe9via ",i.a.createElement(Ot,{process:t,item:"Diretrizes Metropolitanas emitidas"}))),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/Anuencia"},"Emitir Anu\xeancia Pr\xe9via ",i.a.createElement(Ot,{process:t,item:"Aguardando An\xe1lise"}))),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/showEmpreend"},"Gerenciar Dados ")),i.a.createElement("li",null,i.a.createElement(P.a,{to:""},i.a.createElement("i",{className:"material-icons left"},"person"))),i.a.createElement("li",null,i.a.createElement(P.a,{to:""},i.a.createElement("i",{className:"material-icons left"},"mail")))),i.a.createElement("ul",{className:"side-nav",id:"mobile-demo"},i.a.createElement("li",null,i.a.createElement(P.a,{to:"/cadastro"},"Cadastro")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/solicitaDiretriz"},"Solicitar Diretrizes")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/diretrizes"},"Diretrizes Metropolitanas")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/solicitaAnuencia"},"Solicitar Anu\xeancia Pr\xe9via")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/Anuencia"},"Emitir Anu\xeancia Pr\xe9via")),i.a.createElement("li",null,i.a.createElement(P.a,{to:"/showEmpreend"},"Buscar")),i.a.createElement("li",null,i.a.createElement(P.a,{to:""},"Login")),i.a.createElement("li",null,i.a.createElement(P.a,{to:""},"Contato")))))}}]),t}(n.Component),Dt=Object(c.b)(function(e){return{process:e.cadastro.processCollection,color:e.cadastro.setColor}},function(e){return Object(s.b)({setColor:F},e)})(St),xt=Object(s.a)(m.a,p.a,h.a)(s.d);r.a.render(i.a.createElement(function(){return i.a.createElement(c.a,{store:xt(C)},i.a.createElement(l.a,null,i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement(Dt,null)),i.a.createElement(Nt,null))))},null),document.getElementById("root"))},74:function(e,t,a){},98:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.4d7e77e5.chunk.js.map